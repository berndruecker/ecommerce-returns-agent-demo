<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:zeebe="http://camunda.org/schema/zeebe/1.0" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:modeler="http://camunda.org/schema/modeler/1.0" id="Definitions_0w4mjzu" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="5.43.1" modeler:executionPlatform="Camunda Cloud" modeler:executionPlatformVersion="8.8.0">
  <bpmn:process id="message-receiver" isExecutable="true">
    <bpmn:endEvent id="Event_1gdoluy" name="Message correlated">
      <bpmn:incoming>Flow_1ehxd7q</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_1ehxd7q" sourceRef="Task_SendBPMNMessage" targetRef="Event_1gdoluy" />
    <bpmn:sendTask id="Task_SendBPMNMessage" name="Send content as BPMN message" zeebe:modelerTemplate="io.camunda.connectors.message.sendtask.v1" zeebe:modelerTemplateVersion="0" zeebe:modelerTemplateIcon="data:image/svg+xml;base64,PHN2ZwogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHdpZHRoPSIyMDAwIgogICBoZWlnaHQ9IjIwMDAiCiAgIHZpZXdCb3g9IjAgMCAyMDAwIDIwMDAiCiAgIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIj4KICA8cGF0aAogICAgIHN0eWxlPSJjb2xvcjojMDAwMDAwIgogICAgIGQ9Im0gMCwyODQgMjAwMCwwIC0xMDAwLDU1NCB6Ii8+CiAgPHBhdGgKICAgICBzdHlsZT0iY29sb3I6IzAwMDAwMCIKICAgICBkPSJtIDAsNDUyIDEwMDAsNTQ4IDEwMDAsLTU0OCAwLDEwOTYgLTIwMDAsMCB6Ii8+Cjwvc3ZnPgo=">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:sendMessage:1" retries="3" />
        <zeebe:ioMapping>
          <zeebe:input source="CustomerCommunicationReceived" target="messageName" />
          <zeebe:input source="=message.correlationId" target="correlationKey" />
          <zeebe:input source="={ &#34;message&#34;: message }" target="variables" />
          <zeebe:input source="publish" target="correlationType.type" />
          <zeebe:input source="PT60S" target="correlationType.timeToLive" />
          <zeebe:input source="=message.id" target="correlationType.messageId" />
        </zeebe:ioMapping>
        <zeebe:taskHeaders>
          <zeebe:header key="elementTemplateVersion" value="0" />
          <zeebe:header key="elementTemplateId" value="io.camunda.connectors.message.v1" />
          <zeebe:header key="retryBackoff" value="PT0S" />
        </zeebe:taskHeaders>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_00q22k7</bpmn:incoming>
      <bpmn:outgoing>Flow_1ehxd7q</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:startEvent id="StartEvent_WhatsApp" name="WhatsApp received" zeebe:modelerTemplate="io.camunda.connectors.TwilioWebhookMessageStart.v1" zeebe:modelerTemplateVersion="2" zeebe:modelerTemplateIcon="data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;18&#39; height=&#39;18&#39; preserveAspectRatio=&#39;xMidYMid&#39; viewBox=&#39;0 0 256 256&#39; id=&#39;twilio&#39;%3E%3Cg fill=&#39;%23CF272D&#39;%3E%3Cpath d=&#39;M127.86 222.304c-52.005 0-94.164-42.159-94.164-94.163 0-52.005 42.159-94.163 94.164-94.163 52.004 0 94.162 42.158 94.162 94.163 0 52.004-42.158 94.163-94.162 94.163zm0-222.023C57.245.281 0 57.527 0 128.141 0 198.756 57.245 256 127.86 256c70.614 0 127.859-57.244 127.859-127.859 0-70.614-57.245-127.86-127.86-127.86z&#39;%3E%3C/path%3E%3Cpath d=&#39;M133.116 96.297c0-14.682 11.903-26.585 26.586-26.585 14.683 0 26.585 11.903 26.585 26.585 0 14.684-11.902 26.586-26.585 26.586-14.683 0-26.586-11.902-26.586-26.586M133.116 159.983c0-14.682 11.903-26.586 26.586-26.586 14.683 0 26.585 11.904 26.585 26.586 0 14.683-11.902 26.586-26.585 26.586-14.683 0-26.586-11.903-26.586-26.586M69.431 159.983c0-14.682 11.904-26.586 26.586-26.586 14.683 0 26.586 11.904 26.586 26.586 0 14.683-11.903 26.586-26.586 26.586-14.682 0-26.586-11.903-26.586-26.586M69.431 96.298c0-14.683 11.904-26.585 26.586-26.585 14.683 0 26.586 11.902 26.586 26.585 0 14.684-11.903 26.586-26.586 26.586-14.682 0-26.586-11.902-26.586-26.586&#39;%3E%3C/path%3E%3C/g%3E%3C/svg%3E">
      <bpmn:extensionElements>
        <zeebe:properties>
          <zeebe:property name="inbound.type" value="io.camunda:webhook:1" />
          <zeebe:property name="inbound.method" value="any" />
          <zeebe:property name="inbound.context" value="twilio" />
          <zeebe:property name="inbound.subtype" value="ConfigurableInboundWebhook" />
          <zeebe:property name="inbound.shouldValidateHmac" value="disabled" />
          <zeebe:property name="correlationRequired" value="notRequired" />
          <zeebe:property name="resultExpression" value="={&#10;  message: {&#10;    id: request.body.MessageSid,&#10;    from: request.body.From,&#10;    text: request.body.Body,&#10;    senderId: request.body.WaId,&#10;    mobilePhone: &#34;+&#34; + request.body.WaId,&#10;    profileName: request.body.ProfileName,&#10;    channel: &#34;whatsApp&#34;,&#10;    correlationId: &#34;+&#34; + request.body.WaId&#10;  },&#10;  twilioRequestBody: request.body  &#10;}&#10;" />
        </zeebe:properties>
      </bpmn:extensionElements>
      <bpmn:outgoing>Flow_0pemwmw</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1ot26qv" messageRef="Message_1b7rezg" />
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="Flow_0pemwmw" sourceRef="StartEvent_WhatsApp" targetRef="Task_WhatsAppReply" />
    <bpmn:startEvent id="Event_02j563c" name="Running hard coded test">
      <bpmn:extensionElements>
        <zeebe:ioMapping>
          <zeebe:output source="={&#34;profileName&#34;:&#34;Bernd&#34;,&#34;text&#34;:&#34;bgfdgfds&#34;,&#34;mobilePhone&#34;:&#34;+49123456789&#34;,&#34;senderId&#34;:&#34;49123456789&#34;,&#34;id&#34;:&#34;SMd20fdc3c4cbfc7e6952d6b16fa35fd58&#34;,&#34;from&#34;:&#34;whatsapp:+49123456789&#34;}" target="message" />
          <zeebe:output source="={&#10;    &#34;subject&#34;: &#34;Help&#34;,&#10;    &#34;request&#34;: &#34;Whats my account details. Customer id is 42&#34;,&#10;    &#34;originalMessageInFull&#34;: &#34;&#34;,&#10;    &#34;communicationContext&#34;: {&#10;        &#34;channel&#34; : &#34;email&#34;,&#10;        &#34;channelId&#34;: &#34;&#60;UUID of the channel&#62;&#34;,&#10;        &#34;emailAddress&#34;: &#34;bernd.it.depends.ruecker@gmail.com&#34;,&#10;        &#34;conversationId&#34;: null&#10;    }&#10;}" target="supportCaseFROM_OLD_DEMO" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:outgoing>Flow_1kjsy4n</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="Flow_1kjsy4n" sourceRef="Event_02j563c" targetRef="Gateway_0zc209k" />
    <bpmn:startEvent id="StartEvent_Email" name="Customer email received" zeebe:modelerTemplate="io.camunda.connectors.inbound.EmailMessageStart.v1" zeebe:modelerTemplateVersion="2" zeebe:modelerTemplateIcon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzkwXzI0MjApIj4KPHBhdGggZD0iTTguMzM4MzUgOS45NTM2NUwxMC4zODk0IDEyLjAxMDRMOC4zMzI2MiAxNC4wNjcyTDkuMTQ2MTYgMTQuODc1TDEyLjAxMDcgMTIuMDEwNEw5LjE0NjE2IDkuMTQ1ODNMOC4zMzgzNSA5Ljk1MzY1WiIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTEyLjM0ODggOS45NTM2NUwxNC4zOTk4IDEyLjAxMDRMMTIuMzQzIDE0LjA2NzJMMTMuMTU2NiAxNC44NzVMMTYuMDIxMiAxMi4wMTA0TDEzLjE1NjYgOS4xNDU4M0wxMi4zNDg4IDkuOTUzNjVaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNMy45NzIgMTEuNDM3NUgxLjEyNTMzVjIuNzkyMTlMNy42NzM3NiA3LjMyMzk2QzcuNzY5NjcgNy4zOTA0OSA3Ljg4MzYgNy40MjYxNCA4LjAwMDMyIDcuNDI2MTRDOC4xMTcwNSA3LjQyNjE0IDguMjMwOTggNy4zOTA0OSA4LjMyNjg5IDcuMzIzOTZMMTQuODc1MyAyLjc5MjE5VjhIMTYuMDIxMlYyLjI3MDgzQzE2LjAyMTIgMS45NjY5NCAxNS45MDA0IDEuNjc1NDkgMTUuNjg1NiAxLjQ2MDYxQzE1LjQ3MDcgMS4yNDU3MiAxNS4xNzkyIDEuMTI1IDE0Ljg3NTMgMS4xMjVIMS4xMjUzM0MwLjgyMTQzMiAxLjEyNSAwLjUyOTk4NCAxLjI0NTcyIDAuMzE1MDk5IDEuNDYwNjFDMC4xMDAyMTQgMS42NzU0OSAtMC4wMjA1MDc4IDEuOTY2OTQgLTAuMDIwNTA3OCAyLjI3MDgzVjExLjQzNzVDLTAuMDIwNTA3OCAxMS43NDE0IDAuMTAwMjE0IDEyLjAzMjggMC4zMTUwOTkgMTIuMjQ3N0MwLjUyOTk4NCAxMi40NjI2IDAuODIxNDMyIDEyLjU4MzMgMS4xMjUzMyAxMi41ODMzSDMuOTcyVjExLjQzNzVaTTEzLjYxNDkgMi4yNzA4M0w4LjAwMDMyIDYuMTU1MjFMMi4zODU3NCAyLjI3MDgzSDEzLjYxNDlaIiBmaWxsPSIjRkM1RDBEIi8+CjxwYXRoIGQ9Ik00LjI4MjEgOS45NTM2NUw2LjMzMzE0IDEyLjAxMDRMNC4yNzYzNyAxNC4wNjcyTDUuMDg5OTEgMTQuODc1TDcuOTU0NDkgMTIuMDEwNEw1LjA4OTkxIDkuMTQ1ODNMNC4yODIxIDkuOTUzNjVaIiBmaWxsPSJibGFjayIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzkwXzI0MjAiPgo8cmVjdCB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==">
      <bpmn:extensionElements>
        <zeebe:properties>
          <zeebe:property name="inbound.type" value="io.camunda:connector-email-inbound:1" />
          <zeebe:property name="authentication.type" value="simple" />
          <zeebe:property name="authentication.username" value="{{secrets.GMAIL_INBOX_USER}}" />
          <zeebe:property name="authentication.password" value="{{secrets.GMAIL_INBOX_PASSWORD}}" />
          <zeebe:property name="data.imapConfig.imapHost" value="imap.gmail.com" />
          <zeebe:property name="data.imapConfig.imapPort" value="993" />
          <zeebe:property name="data.imapConfig.imapCryptographicProtocol" value="TLS" />
          <zeebe:property name="data.pollingWaitTime" value="PT10S" />
          <zeebe:property name="data.pollingConfigDiscriminator" value="unseenPollingConfig" />
          <zeebe:property name="data.pollingConfig.handlingStrategy" value="READ" />
          <zeebe:property name="activationCondition" value="=is empty(headers[key = &#34;In-Reply-To&#34;])" />
          <zeebe:property name="consumeUnmatchedEvents" value="false" />
          <zeebe:property name="correlationRequired" value="notRequired" />
          <zeebe:property name="deduplicationModeManualFlag" value="false" />
          <zeebe:property name="deduplicationMode" value="AUTO" />
          <zeebe:property name="resultVariable" value="currentEmail" />
          <zeebe:property name="resultExpression" />
        </zeebe:properties>
        <zeebe:ioMapping>
          <zeebe:output source="=&#34;email&#34;" target="communicationChannel" />
          <zeebe:output source="=currentEmail" target="currentEmail" />
          <zeebe:output source="=currentEmail.plainTextBody" target="customerRequest" />
          <zeebe:output source="={&#10;    &#34;subject&#34;: currentEmail.subject,&#10;    &#34;request&#34;: currentEmail.plainTextBody,&#10;    &#34;communicationContext&#34;: {&#10;        &#34;channel&#34; : &#34;email&#34;,&#10;        &#34;emailAddress&#34;: currentEmail.fromAddress,&#10;        &#34;conversationId&#34;: currentEmail.messageId&#10;    }&#10;}" target="supportCase" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:outgoing>Flow_17yswsl</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1ygmb0p" messageRef="Message_0o7wtk9" />
    </bpmn:startEvent>
    <bpmn:serviceTask id="Task_ChatThinkingUpdate" name="Update status &#10;(&#34;Thinking...&#34;)" zeebe:modelerTemplate="io.camunda.chat.rest.reply.camunda-chat-admin-986421179728.europe-west1.run.app.v1" zeebe:modelerTemplateVersion="1" zeebe:modelerTemplateIcon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzIwMDFfNTApIj4KPHBhdGggZD0iTTE3Ljk4ODYgMzEuODU3MUwxNiAzMC43MTQzTDIwLjU3MTQgMjIuNzE0M0gyNy40Mjg2QzI4LjAzNDggMjIuNzE0MyAyOC42MTYyIDIyLjQ3MzUgMjkuMDQ0OCAyMi4wNDQ4QzI5LjQ3MzUgMjEuNjE2MiAyOS43MTQzIDIxLjAzNDggMjkuNzE0MyAyMC40Mjg2VjYuNzE0MjhDMjkuNzE0MyA2LjEwODA3IDI5LjQ3MzUgNS41MjY2OSAyOS4wNDQ4IDUuMDk4MDRDMjguNjE2MiA0LjY2OTM4IDI4LjAzNDggNC40Mjg1NyAyNy40Mjg2IDQuNDI4NTdINC41NzE0M0MzLjk2NTIyIDQuNDI4NTcgMy4zODM4NCA0LjY2OTM4IDIuOTU1MTggNS4wOTgwNEMyLjUyNjUzIDUuNTI2NjkgMi4yODU3MSA2LjEwODA3IDIuMjg1NzEgNi43MTQyOFYyMC40Mjg2QzIuMjg1NzEgMjEuMDM0OCAyLjUyNjUzIDIxLjYxNjIgMi45NTUxOCAyMi4wNDQ4QzMuMzgzODQgMjIuNDczNSAzLjk2NTIyIDIyLjcxNDMgNC41NzE0MyAyMi43MTQzSDE0Ljg1NzFWMjVINC41NzE0M0MzLjM1OTAxIDI1IDIuMTk2MjUgMjQuNTE4NCAxLjMzODk0IDIzLjY2MTFDMC40ODE2MzEgMjIuODAzNyAwIDIxLjY0MSAwIDIwLjQyODZWNi43MTQyOEMwIDUuNTAxODYgMC40ODE2MzEgNC4zMzkxIDEuMzM4OTQgMy40ODE3OUMyLjE5NjI1IDIuNjI0NDggMy4zNTkwMSAyLjE0Mjg1IDQuNTcxNDMgMi4xNDI4NUgyNy40Mjg2QzI4LjY0MSAyLjE0Mjg1IDI5LjgwMzggMi42MjQ0OCAzMC42NjExIDMuNDgxNzlDMzEuNTE4NCA0LjMzOTEgMzIgNS41MDE4NiAzMiA2LjcxNDI4VjIwLjQyODZDMzIgMjEuNjQxIDMxLjUxODQgMjIuODAzNyAzMC42NjExIDIzLjY2MTFDMjkuODAzOCAyNC41MTg0IDI4LjY0MSAyNSAyNy40Mjg2IDI1SDIxLjg5NzFMMTcuOTg4NiAzMS44NTcxWiIgZmlsbD0iIzBGNjJGRSIvPgo8cGF0aCBkPSJNMjUuMTQyOSA5SDYuODU3MThWMTEuMjg1N0gyNS4xNDI5VjlaIiBmaWxsPSIjMEY2MkZFIi8+CjxwYXRoIGQ9Ik0xOC4yODU3IDE1Ljg1NzFINi44NTcxOFYxOC4xNDI5SDE4LjI4NTdWMTUuODU3MVoiIGZpbGw9IiMwRjYyRkUiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8yMDAxXzUwIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo=">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:http-json:1" retries="3" />
        <zeebe:ioMapping>
          <zeebe:input source="https://camunda-chat-admin-986421179728.europe-west1.run.app/api/" target="apiBaseUrl" />
          <zeebe:input source="=supportCase.communicationContext.channelId" target="channelUUID" />
          <zeebe:input source="=supportCase.communicationContext.conversationId" target="conversationUUID" />
          <zeebe:input source="{{secrets.CHAT_BACKEND_SERVICE_TOKEN}}" target="authToken" />
          <zeebe:input source="thinking" target="messageType" />
          <zeebe:input source="=&#34;Thank you for your message - let me sort this out for you...&#34;" target="content" />
          <zeebe:input source="={&#34;type&#34;: &#34;bearer&#34;, &#34;token&#34;: authToken}" target="authentication" />
          <zeebe:input source="PUT" target="method" />
          <zeebe:input source="=apiBaseUrl + &#34;channels/&#34; + channelUUID + &#34;/conversations/&#34; + conversationUUID + &#34;/messages/&#34; + uuid()" target="url" />
          <zeebe:input source="={&#34;senderUsername&#34;:&#34;Camunda&#34;,&#34;parts&#34;:[{&#34;type&#34;: messageType, &#34;content&#34;: content, &#34;position&#34;: 0}]}" target="body" />
          <zeebe:input source="=false" target="storeResponse" />
          <zeebe:input source="=false" target="ignoreNullValues" />
          <zeebe:input source="=20" target="connectionTimeoutInSeconds" />
          <zeebe:input source="=20" target="readTimeoutInSeconds" />
        </zeebe:ioMapping>
        <zeebe:taskHeaders>
          <zeebe:header key="retryBackoff" value="PT0S" />
        </zeebe:taskHeaders>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1i0kcwv</bpmn:incoming>
      <bpmn:outgoing>Flow_1fh0m0d</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:startEvent id="StartEvent_GetVocal" name="GetVocal request received" zeebe:modelerTemplate="Template_0zt2ly0" zeebe:modelerTemplateVersion="3" zeebe:modelerTemplateIcon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgxIiBoZWlnaHQ9IjI1NiIgdmlld0JveD0iMCAwIDQ4MSAyNTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0wIDEwNS4wNkMwIDk5LjA4MTcgNC44NDYyMiA5NC4yMzU1IDEwLjgyNDMgOTQuMjM1NUMxNi44MDI1IDk0LjIzNTUgMjEuNjQ4NyA5OS4wODE3IDIxLjY0ODcgMTA1LjA2VjEyNS40MzVDMjEuNjQ4NyAxMzEuNDEzIDE2LjgwMjUgMTM2LjI1OSAxMC44MjQzIDEzNi4yNTlDNC44NDYyMiAxMzYuMjU5IDAgMTMxLjQxMyAwIDEyNS40MzVWMTA1LjA2WiIgZmlsbD0iIzExMTExMSIvPgo8cGF0aCBkPSJNMTE0LjYxMSA4Mi4xMzc3QzExNC42MTEgNzYuMTU5NSAxMTkuNDU3IDcxLjMxMzMgMTI1LjQzNSA3MS4zMTMzQzEzMS40MTMgNzEuMzEzMyAxMzYuMjU5IDc2LjE1OTUgMTM2LjI1OSA4Mi4xMzc3VjEwMi41MTNDMTM2LjI1OSAxMDguNDkxIDEzMS40MTMgMTEzLjMzNyAxMjUuNDM1IDExMy4zMzdDMTE5LjQ1NyAxMTMuMzM3IDExNC42MTEgMTA4LjQ5MSAxMTQuNjExIDEwMi41MTNWODIuMTM3N1oiIGZpbGw9IiMxMTExMTEiLz4KPHBhdGggZD0iTTQ1OC40NDMgMTA1LjA2QzQ1OC40NDMgOTkuMDgxNyA0NjMuMjg5IDk0LjIzNTUgNDY5LjI2NyA5NC4yMzU1QzQ3NS4yNDUgOTQuMjM1NSA0ODAuMDkxIDk5LjA4MTcgNDgwLjA5MSAxMDUuMDZWMTI1LjQzNUM0ODAuMDkxIDEzMS40MTMgNDc1LjI0NSAxMzYuMjU5IDQ2OS4yNjcgMTM2LjI1OUM0NjMuMjg5IDEzNi4yNTkgNDU4LjQ0MyAxMzEuNDEzIDQ1OC40NDMgMTI1LjQzNVYxMDUuMDZaIiBmaWxsPSIjMTExMTExIi8+CjxwYXRoIGQ9Ik01Ny4zMDUzIDU5LjIxNTVDNTcuMzA1MyA1My4yMzc0IDYyLjE1MTYgNDguMzkxMiA2OC4xMjk3IDQ4LjM5MTJDNzQuMTA3OCA0OC4zOTEyIDc4Ljk1NCA1My4yMzc0IDc4Ljk1NCA1OS4yMTU1VjEyNi43MDhDNzguOTU0IDEzMi42ODcgNzQuMTA3OCAxMzcuNTMzIDY4LjEyOTcgMTM3LjUzM0M2Mi4xNTE2IDEzNy41MzMgNTcuMzA1MyAxMzIuNjg3IDU3LjMwNTMgMTI2LjcwOFY1OS4yMTU1WiIgZmlsbD0iIzExMTExMSIvPgo8cGF0aCBkPSJNMTcxLjkxNiAzOC44NDAzQzE3MS45MTYgMzIuODYyMiAxNzYuNzYyIDI4LjAxNTkgMTgyLjc0IDI4LjAxNTlDMTg4LjcxOSAyOC4wMTU5IDE5My41NjUgMzIuODYyMiAxOTMuNTY1IDM4Ljg0MDNWOTYuMTQ1NkMxOTMuNTY1IDEwMi4xMjQgMTg4LjcxOSAxMDYuOTcgMTgyLjc0IDEwNi45N0MxNzYuNzYyIDEwNi45NyAxNzEuOTE2IDEwMi4xMjQgMTcxLjkxNiA5Ni4xNDU2VjM4Ljg0MDNaIiBmaWxsPSIjMTExMTExIi8+CjxwYXRoIGQ9Ik0yODYuNTI3IDM4Ljg0MDNDMjg2LjUyNyAzMi44NjIyIDI5MS4zNzMgMjguMDE1OSAyOTcuMzUxIDI4LjAxNTlDMzAzLjMyOSAyOC4wMTU5IDMwOC4xNzUgMzIuODYyMiAzMDguMTc1IDM4Ljg0MDNWOTYuMTQ1NkMzMDguMTc1IDEwMi4xMjQgMzAzLjMyOSAxMDYuOTcgMjk3LjM1MSAxMDYuOTdDMjkxLjM3MyAxMDYuOTcgMjg2LjUyNyAxMDIuMTI0IDI4Ni41MjcgOTYuMTQ1NlYzOC44NDAzWiIgZmlsbD0iIzExMTExMSIvPgo8cGF0aCBkPSJNMzQzLjgzMiA4My40MTExQzM0My44MzIgNzcuNDMzIDM0OC42NzggNzIuNTg2OCAzNTQuNjU2IDcyLjU4NjhDMzYwLjYzNSA3Mi41ODY4IDM2NS40ODEgNzcuNDMzIDM2NS40ODEgODMuNDExMVYxMjYuNzA4QzM2NS40ODEgMTMyLjY4NyAzNjAuNjM1IDEzNy41MzMgMzU0LjY1NiAxMzcuNTMzQzM0OC42NzggMTM3LjUzMyAzNDMuODMyIDEzMi42ODcgMzQzLjgzMiAxMjYuNzA4VjgzLjQxMTFaIiBmaWxsPSIjMTExMTExIi8+CjxwYXRoIGQ9Ik00MDEuMTM3IDYwLjQ4OUM0MDEuMTM3IDU0LjUxMDkgNDA1Ljk4NCA0OS42NjQ2IDQxMS45NjIgNDkuNjY0NkM0MTcuOTQgNDkuNjY0NiA0MjIuNzg2IDU0LjUxMDkgNDIyLjc4NiA2MC40ODlWMTEzLjk3NEM0MjIuNzg2IDExOS45NTIgNDE3Ljk0IDEyNC43OTggNDExLjk2MiAxMjQuNzk4QzQwNS45ODQgMTI0Ljc5OCA0MDEuMTM3IDExOS45NTIgNDAxLjEzNyAxMTMuOTc0VjYwLjQ4OVoiIGZpbGw9IiMxMTExMTEiLz4KPHBhdGggZD0iTTIyOS4yMjEgMTAuODI0M0MyMjkuMjIxIDQuODQ2MjIgMjM0LjA2OCAwIDI0MC4wNDYgMEMyNDYuMDI0IDAgMjUwLjg3IDQuODQ2MjIgMjUwLjg3IDEwLjgyNDNWMTE5LjA2OEMyNTAuODcgMTI1LjA0NiAyNDYuMDI0IDEyOS44OTIgMjQwLjA0NiAxMjkuODkyQzIzNC4wNjggMTI5Ljg5MiAyMjkuMjIxIDEyNS4wNDYgMjI5LjIyMSAxMTkuMDY4VjEwLjgyNDNaIiBmaWxsPSIjMTExMTExIi8+CjxwYXRoIGQ9Ik00NDYuODI5IDI1NC4zNDVINDMyLjQyMlYxODYuMjA1SDQ0Ni44MjlWMjU0LjM0NVoiIGZpbGw9IiMxRTFFMUUiLz4KPHBhdGggZD0iTTM5My4zOTMgMjU1LjYxMUMzODguNDYxIDI1NS42MTEgMzg0LjUzNSAyNTQuMzQ1IDM4MS42MTUgMjUxLjgxNEMzNzguNjk1IDI0OS4yMTggMzc3LjIzNCAyNDUuNzQ2IDM3Ny4yMzQgMjQxLjM5OEMzNzcuMjM0IDIzNy4yNDUgMzc4LjQwMiAyMzMuOTY4IDM4MC43MzkgMjMxLjU2N0MzODMuMDc1IDIyOS4xNjUgMzg3LjIyOCAyMjcuNDQ2IDM5My4xOTkgMjI2LjQwN0w0MDQuNjg1IDIyNC40NjFDNDA2Ljg5MiAyMjQuMDcxIDQwOC40NDkgMjIzLjUyIDQwOS4zNTggMjIyLjgwNkM0MTAuMjY2IDIyMi4wOTIgNDEwLjcyMSAyMjEuMDIxIDQxMC43MjEgMjE5LjU5M0M0MTAuNzIxIDIxNy43NzYgNDEwLjA3MiAyMTYuMzgxIDQwOC43NzQgMjE1LjQwOEM0MDcuNTQxIDIxNC40MzQgNDA1LjM2NyAyMTMuOTQ3IDQwMi4yNTIgMjEzLjk0N0MzOTUuODI3IDIxMy45NDcgMzkyLjUxNyAyMTYuNDc4IDM5Mi4zMjMgMjIxLjU0SDM3OC4yMDhDMzc4LjQwMiAyMTYuMjE5IDM4MC41NzcgMjExLjk2OCAzODQuNzMgMjA4Ljc4OEMzODguOTQ4IDIwNS42MDggMzk0LjY5MSAyMDQuMDE4IDQwMS45NiAyMDQuMDE4QzQwOS4yMjggMjA0LjAxOCA0MTQuNzEyIDIwNS40NzkgNDE4LjQxMSAyMDguMzk5QzQyMi4xMSAyMTEuMzE5IDQyMy45NTkgMjE1LjQwOCA0MjMuOTU5IDIyMC42NjRWMjQxLjY5QzQyMy45NTkgMjQ1LjY0OSA0MjQuMjE5IDI0OS44NjcgNDI0LjczOCAyNTQuMzQ1SDQxMi4xODFDNDExLjY2MiAyNTAuOTA2IDQxMS40MDIgMjQ3LjQzNCA0MTEuNDAyIDI0My45MjlDNDEwLjIzNCAyNDcuNDk5IDQwOC4xMjUgMjUwLjM1NCA0MDUuMDc1IDI1Mi40OTZDNDAyLjAyNSAyNTQuNTcyIDM5OC4xMzEgMjU1LjYxMSAzOTMuMzkzIDI1NS42MTFaTTM5OC4yNjEgMjQ1Ljc3OUM0MDIuMDg5IDI0NS43NzkgNDA1LjEwNyAyNDQuNDgxIDQwNy4zMTQgMjQxLjg4NUM0MDkuNTg1IDIzOS4yMjQgNDEwLjcyMSAyMzUuNjU1IDQxMC43MjEgMjMxLjE3N1YyMjkuMDM2QzQwOS41NTIgMjI5LjgxNCA0MDguMzUyIDIzMC40MzEgNDA3LjExOSAyMzAuODg1QzQwNS45NTEgMjMxLjM0IDQwNC40OTEgMjMxLjc2MSA0MDIuNzM4IDIzMi4xNTFMMzk4LjY1IDIzMy4xMjRDMzk2LjA1NCAyMzMuNzczIDM5NC4yMDUgMjM0LjYxNyAzOTMuMTAxIDIzNS42NTVDMzkxLjk5OCAyMzYuNjkzIDM5MS40NDcgMjM4LjEyMSAzOTEuNDQ3IDIzOS45MzhDMzkxLjQ0NyAyNDEuODIgMzkyLjA2MyAyNDMuMjggMzkzLjI5NiAyNDQuMzE5QzM5NC41OTQgMjQ1LjI5MiAzOTYuMjQ5IDI0NS43NzkgMzk4LjI2MSAyNDUuNzc5WiIgZmlsbD0iIzFFMUUxRSIvPgo8cGF0aCBkPSJNMzE5LjkyMiAyMzAuMDA5QzMxOS45MjIgMjI1LjI3MiAzMjAuODYzIDIyMC45NTYgMzIyLjc0NSAyMTcuMDYyQzMyNC42MjcgMjEzLjEwNCAzMjcuNTQ3IDIwOS45NTYgMzMxLjUwNiAyMDcuNjJDMzM1LjUyOSAyMDUuMjg0IDM0MC41NTkgMjA0LjExNiAzNDYuNTk0IDIwNC4xMTZDMzU0LjcwNiAyMDQuMTE2IDM2MC45MzYgMjA2LjA5NSAzNjUuMjg0IDIxMC4wNTRDMzY5LjYzMiAyMTQuMDEyIDM3MS45MDMgMjE5LjEzOSAzNzIuMDk4IDIyNS40MzRIMzU4LjA4MUMzNTcuODIxIDIyMi4yNTQgMzU2Ljc4MyAyMTkuNzg4IDM1NC45NjYgMjE4LjAzNkMzNTMuMTQ4IDIxNi4yODQgMzUwLjQ1NSAyMTUuNDA4IDM0Ni44ODYgMjE1LjQwOEMzNDIuNzk4IDIxNS40MDggMzM5LjY4MyAyMTYuNTQzIDMzNy41NDEgMjE4LjgxNUMzMzUuNDY0IDIyMS4wMjEgMzM0LjQyNiAyMjQuNzUzIDMzNC40MjYgMjMwLjAwOUMzMzQuNDI2IDIzNS4yNjYgMzM1LjQzMiAyMzkuMDMgMzM3LjQ0NCAyNDEuMzAxQzMzOS41MiAyNDMuNTA3IDM0Mi42MDMgMjQ0LjYxMSAzNDYuNjkxIDI0NC42MTFDMzUwLjMyNiAyNDQuNjExIDM1My4wODQgMjQzLjY3IDM1NC45NjYgMjQxLjc4OEMzNTYuOTEyIDIzOS45MDYgMzU4LjA0OCAyMzcuNDA3IDM1OC4zNzMgMjM0LjI5MkgzNzIuMzlDMzcyLjI2IDIzOC4yNTEgMzcxLjIyMiAyNDEuODg1IDM2OS4yNzUgMjQ1LjE5NUMzNjcuMzkzIDI0OC40NCAzNjQuNTM4IDI1MS4wMzUgMzYwLjcwOSAyNTIuOTgyQzM1Ni45NDUgMjU0LjkyOSAzNTIuMzM3IDI1NS45MDMgMzQ2Ljg4NiAyNTUuOTAzQzM0MC44NTEgMjU1LjkwMyAzMzUuNzg5IDI1NC43MzQgMzMxLjcgMjUyLjM5OEMzMjcuNjc3IDI1MC4wNjIgMzI0LjY5MiAyNDYuOTQ3IDMyMi43NDUgMjQzLjA1M0MzMjAuODYzIDIzOS4wOTUgMzE5LjkyMiAyMzQuNzQ3IDMxOS45MjIgMjMwLjAwOVoiIGZpbGw9IiMxRTFFMUUiLz4KPHBhdGggZD0iTTI4OC43NjEgMjU1LjkwM0MyODIuNTk2IDI1NS45MDMgMjc3LjUwMiAyNTQuNzM0IDI3My40NzggMjUyLjM5OEMyNjkuNDU1IDI0OS45OTcgMjY2LjUwMiAyNDYuODUgMjY0LjYyIDI0Mi45NTZDMjYyLjczOCAyMzkuMDYyIDI2MS43OTcgMjM0LjcxNCAyNjEuNzk3IDIyOS45MTJDMjYxLjc5NyAyMjUuMTc0IDI2Mi43MzggMjIwLjg1OSAyNjQuNjIgMjE2Ljk2NUMyNjYuNTAyIDIxMy4wNzEgMjY5LjQ1NSAyMDkuOTU2IDI3My40NzggMjA3LjYyQzI3Ny41MDIgMjA1LjI4NCAyODIuNTk2IDIwNC4xMTYgMjg4Ljc2MSAyMDQuMTE2QzI5NC45MjYgMjA0LjExNiAzMDAuMDIgMjA1LjMxNiAzMDQuMDQ0IDIwNy43MTdDMzA4LjEzMiAyMTAuMDU0IDMxMS4wODUgMjEzLjE2OSAzMTIuOTAyIDIxNy4wNjJDMzE0Ljc4NCAyMjAuOTU2IDMxNS43MjUgMjI1LjIzOSAzMTUuNzI1IDIyOS45MTJDMzE1LjcyNSAyMzQuNjQ5IDMxNC43ODQgMjM4Ljk5NyAzMTIuOTAyIDI0Mi45NTZDMzExLjA4NSAyNDYuODUgMzA4LjEzMiAyNDkuOTk3IDMwNC4wNDQgMjUyLjM5OEMzMDAuMDIgMjU0LjczNCAyOTQuOTI2IDI1NS45MDMgMjg4Ljc2MSAyNTUuOTAzWk0yNzYuMzAxIDIzMC4wMDlDMjc2LjMwMSAyMzUuMzMxIDI3Ny4yNzUgMjM5LjA5NSAyNzkuMjIxIDI0MS4zMDFDMjgxLjE2OCAyNDMuNTA3IDI4NC4zNDggMjQ0LjYxMSAyODguNzYxIDI0NC42MTFDMjkzLjIzOSAyNDQuNjExIDI5Ni40NTEgMjQzLjUwNyAyOTguMzk4IDI0MS4zMDFDMzAwLjM0NSAyMzkuMDk1IDMwMS4zMTggMjM1LjMzMSAzMDEuMzE4IDIzMC4wMDlDMzAxLjMxOCAyMjQuNjg4IDMwMC4zNDUgMjIwLjkyNCAyOTguMzk4IDIxOC43MTdDMjk2LjQ1MSAyMTYuNTExIDI5My4yMzkgMjE1LjQwOCAyODguNzYxIDIxNS40MDhDMjg0LjM0OCAyMTUuNDA4IDI4MS4xNjggMjE2LjUxMSAyNzkuMjIxIDIxOC43MTdDMjc3LjI3NSAyMjAuOTI0IDI3Ni4zMDEgMjI0LjY4OCAyNzYuMzAxIDIzMC4wMDlaIiBmaWxsPSIjMUUxRTFFIi8+CjxwYXRoIGQ9Ik0yNTAuNjUxIDE4OS42MTJIMjY1LjU0NUwyNDMuODM3IDI1NC4zNDVIMjIyLjEzTDIwMC40MjIgMTg5LjYxMkgyMTUuNzA1TDIzMC4wMTQgMjMyLjA1NEMyMzEuMzc3IDIzNi4yNzIgMjMyLjQxNSAyMzkuODQxIDIzMy4xMjkgMjQyLjc2MUMyMzQuMjk3IDIzOC4zNDkgMjM1LjMzNiAyMzQuNzc5IDIzNi4yNDQgMjMyLjA1NEwyNTAuNjUxIDE4OS42MTJaIiBmaWxsPSIjMUUxRTFFIi8+CjxwYXRoIGQ9Ik0xODYuMDA0IDI1NC4zNDVDMTc5LjMyIDI1NC4zNDUgMTc0LjY0NyAyNTIuOTUgMTcxLjk4NiAyNTAuMTU5QzE2OS4zOTEgMjQ3LjMwNCAxNjguMDkzIDI0Mi44NTkgMTY4LjA5MyAyMzYuODIzVjIxNi41NzZIMTU5LjIzNFYyMDkuNjY0TDE2OS4yNjEgMjA1LjU3NkwxNzUuMTk5IDE5NC4wODlIMTgyLjQ5OVYyMDUuNjczSDE5Ni41MTdWMjE2LjU3NkgxODIuNDk5VjI0Mi44NThIMTk1LjE1NFYyNTQuMzQ1SDE4Ni4wMDRaIiBmaWxsPSIjMUUxRTFFIi8+CjxwYXRoIGQ9Ik0xMzIuOTYyIDI0NS45NzNDMTM1Ljk0NyAyNDUuOTczIDEzOC4zNDggMjQ1LjQyMiAxNDAuMTY1IDI0NC4zMTlDMTQxLjk4MiAyNDMuMTUxIDE0My4yNDggMjQxLjU5MyAxNDMuOTYyIDIzOS42NDZIMTU3Ljc4NEMxNTcuMDA2IDI0NC4yNTQgMTU0LjYwNSAyNDguMTE1IDE1MC41ODEgMjUxLjIzQzE0Ni42MjIgMjU0LjM0NSAxNDAuNjUyIDI1NS45MDMgMTMyLjY3IDI1NS45MDNDMTIzLjc3OSAyNTUuOTAzIDExNy4xOTIgMjUzLjQ2OSAxMTIuOTA5IDI0OC42MDJDMTA4LjYyNiAyNDMuNjcgMTA2LjQ4NCAyMzcuNDQgMTA2LjQ4NCAyMjkuOTEyQzEwNi40ODQgMjI1LjA0NSAxMDcuNDI1IDIyMC42NjQgMTA5LjMwNyAyMTYuNzdDMTExLjI1NCAyMTIuODc3IDExNC4xNzUgMjA5Ljc5NCAxMTguMDY4IDIwNy41MjNDMTIyLjAyNyAyMDUuMjUxIDEyNi44OTQgMjA0LjExNiAxMzIuNjcgMjA0LjExNkMxNDEuMzAxIDIwNC4xMTYgMTQ3LjY2MSAyMDYuNTE3IDE1MS43NDkgMjExLjMxOUMxNTUuODM4IDIxNi4xMjEgMTU3Ljg4MiAyMjIuMjg3IDE1Ny44ODIgMjI5LjgxNEMxNTcuODgyIDIzMS42OTYgMTU3LjgxNyAyMzIuOTk0IDE1Ny42ODcgMjMzLjcwOEgxMjAuNTk5QzEyMC45ODkgMjM4LjEyMSAxMjIuMjIyIDI0MS4yNjkgMTI0LjI5OCAyNDMuMTUxQzEyNi40NCAyNDUuMDMyIDEyOS4zMjggMjQ1Ljk3MyAxMzIuOTYyIDI0NS45NzNaTTEzMi44NjQgMjEzLjg1QzEyOS4yOTUgMjEzLjg1IDEyNi41MDUgMjE0LjY5NCAxMjQuNDkzIDIxNi4zODFDMTIyLjU0NiAyMTguMDY4IDEyMS4yODEgMjIwLjkyNCAxMjAuNjk3IDIyNC45NDdIMTQ0LjE1NkMxNDMuODk3IDIyMS4yNDggMTQyLjgyNiAyMTguNDkgMTQwLjk0NCAyMTYuNjczQzEzOS4xMjcgMjE0Ljc5MSAxMzYuNDM0IDIxMy44NSAxMzIuODY0IDIxMy44NVoiIGZpbGw9IiMxRTFFMUUiLz4KPHBhdGggZD0iTTY0LjEyMzUgMjU2QzU3LjI0NDYgMjU2IDUxLjUwMTMgMjU0LjUwNyA0Ni44OTM3IDI1MS41MjJDNDIuMjg2MSAyNDguNTM3IDM4Ljg0NjcgMjQ0LjQ4MSAzNi41NzUzIDIzOS4zNTRDMzQuMzY4OSAyMzQuMjI3IDMzLjI2NTYgMjI4LjQxOSAzMy4yNjU2IDIyMS45M0MzMy4yNjU2IDIxNS4zNzUgMzQuNDk4NiAyMDkuNTY3IDM2Ljk2NDcgMjA0LjUwNUMzOS40MzA3IDE5OS4zNzggNDMuMjU5NiAxOTUuMzU1IDQ4LjQ1MTIgMTkyLjQzNUM1My43MDc4IDE4OS40NDkgNjAuMjYyMyAxODcuOTU3IDY4LjExNDYgMTg3Ljk1N0M3OC40MzMxIDE4Ny45NTcgODYuMTU1NiAxOTAuMDY2IDkxLjI4MjQgMTk0LjI4NEM5Ni40MDkyIDE5OC41MDIgOTkuMjk3IDIwNC4yNDYgOTkuOTQ2IDIxMS41MTRIODQuOTU1MUM4NC41MDA4IDIwNy42ODUgODIuODc4NCAyMDQuNzMyIDgwLjA4NzkgMjAyLjY1NkM3Ny4yOTc0IDIwMC41NzkgNzMuMjczOCAxOTkuNTQxIDY4LjAxNzMgMTk5LjU0MUM2MS41Mjc3IDE5OS41NDEgNTYuNjkzIDIwMS4zOSA1My41MTMxIDIwNS4wODlDNTAuMzMzMiAyMDguNzIzIDQ4Ljc0MzMgMjE0LjM2OSA0OC43NDMzIDIyMi4wMjdDNDguNzQzMyAyMjkuNDkgNTAuMjM1OSAyMzUuMDcxIDUzLjIyMTEgMjM4Ljc3QzU2LjIwNjMgMjQyLjQ2OSA2MC45MTEyIDI0NC4zMTkgNjcuMzM1OSAyNDQuMzE5QzczLjMwNjMgMjQ0LjMxOSA3Ny42ODY4IDI0Mi45ODggODAuNDc3MyAyNDAuMzI4QzgzLjMzMjcgMjM3LjY2NyA4NS4wODQ5IDIzNC4wNjUgODUuNzMzOCAyMjkuNTIzSDYyLjY2MzRWMjE5Ljg4NUg5OS44NDg2VjI1NC4zNDVIODcuMTk0VjI0MS44ODVDODUuNzY2MyAyNDYuMTAzIDgzLjE3MDQgMjQ5LjUxIDc5LjQwNjUgMjUyLjEwNkM3NS42NDI1IDI1NC43MDIgNzAuNTQ4MiAyNTYgNjQuMTIzNSAyNTZaIiBmaWxsPSIjMUUxRTFFIi8+Cjwvc3ZnPgo=">
      <bpmn:extensionElements>
        <zeebe:properties>
          <zeebe:property name="inbound.type" value="io.camunda:webhook:1" />
          <zeebe:property name="inbound.method" value="post" />
          <zeebe:property name="inbound.context" value="getvocal-start-process" />
          <zeebe:property name="inbound.shouldValidateHmac" value="disabled" />
          <zeebe:property name="inbound.auth.type" value="NONE" />
          <zeebe:property name="consumeUnmatchedEvents" value="true" />
          <zeebe:property name="correlationRequired" value="notRequired" />
          <zeebe:property name="deduplicationModeManualFlag" value="false" />
          <zeebe:property name="deduplicationMode" value="AUTO" />
          <zeebe:property name="resultVariable" value="" />
          <zeebe:property name="resultExpression" value="={&#10;  customerRequest: request.body.customerRequest,&#10;  customerId: request.body.customerId,&#10;  conversationId: request.body.conversationId,&#10;  customerEmail: request.body.email&#10;}" />
        </zeebe:properties>
        <zeebe:ioMapping>
          <zeebe:output source="={&#10;    &#34;subject&#34;: &#34;Voice Request&#34;,&#10;    &#34;request&#34;: customerRequest,&#10;    &#34;originalMessageInFull&#34;: customerRequest,&#10;    &#34;communicationContext&#34;: {&#10;        &#34;channel&#34; : &#34;getVocal&#34;,&#10;        &#34;emailAddress&#34;: &#34;bernd.it.depends.ruecker@gmail.com&#34;,&#10;        &#34;conversationId&#34;: conversationId    }&#10;}" target="supportCase" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:outgoing>Flow_1qqs8jw</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_0vgf8tj" messageRef="Message_10tt9l0" />
    </bpmn:startEvent>
    <bpmn:startEvent id="StartEvent_Chat" name="Customer support chat started" zeebe:modelerTemplate="io.camunda.chat.messageStart.6f459df0-d0eb-4b54-b299-ddc2a1fdc0d7.v1" zeebe:modelerTemplateVersion="1" zeebe:modelerTemplateIcon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzIwMDFfNTApIj4KPHBhdGggZD0iTTE3Ljk4ODYgMzEuODU3MUwxNiAzMC43MTQzTDIwLjU3MTQgMjIuNzE0M0gyNy40Mjg2QzI4LjAzNDggMjIuNzE0MyAyOC42MTYyIDIyLjQ3MzUgMjkuMDQ0OCAyMi4wNDQ4QzI5LjQ3MzUgMjEuNjE2MiAyOS43MTQzIDIxLjAzNDggMjkuNzE0MyAyMC40Mjg2VjYuNzE0MjhDMjkuNzE0MyA2LjEwODA3IDI5LjQ3MzUgNS41MjY2OSAyOS4wNDQ4IDUuMDk4MDRDMjguNjE2MiA0LjY2OTM4IDI4LjAzNDggNC40Mjg1NyAyNy40Mjg2IDQuNDI4NTdINC41NzE0M0MzLjk2NTIyIDQuNDI4NTcgMy4zODM4NCA0LjY2OTM4IDIuOTU1MTggNS4wOTgwNEMyLjUyNjUzIDUuNTI2NjkgMi4yODU3MSA2LjEwODA3IDIuMjg1NzEgNi43MTQyOFYyMC40Mjg2QzIuMjg1NzEgMjEuMDM0OCAyLjUyNjUzIDIxLjYxNjIgMi45NTUxOCAyMi4wNDQ4QzMuMzgzODQgMjIuNDczNSAzLjk2NTIyIDIyLjcxNDMgNC41NzE0MyAyMi43MTQzSDE0Ljg1NzFWMjVINC41NzE0M0MzLjM1OTAxIDI1IDIuMTk2MjUgMjQuNTE4NCAxLjMzODk0IDIzLjY2MTFDMC40ODE2MzEgMjIuODAzNyAwIDIxLjY0MSAwIDIwLjQyODZWNi43MTQyOEMwIDUuNTAxODYgMC40ODE2MzEgNC4zMzkxIDEuMzM4OTQgMy40ODE3OUMyLjE5NjI1IDIuNjI0NDggMy4zNTkwMSAyLjE0Mjg1IDQuNTcxNDMgMi4xNDI4NUgyNy40Mjg2QzI4LjY0MSAyLjE0Mjg1IDI5LjgwMzggMi42MjQ0OCAzMC42NjExIDMuNDgxNzlDMzEuNTE4NCA0LjMzOTEgMzIgNS41MDE4NiAzMiA2LjcxNDI4VjIwLjQyODZDMzIgMjEuNjQxIDMxLjUxODQgMjIuODAzNyAzMC42NjExIDIzLjY2MTFDMjkuODAzOCAyNC41MTg0IDI4LjY0MSAyNSAyNy40Mjg2IDI1SDIxLjg5NzFMMTcuOTg4NiAzMS44NTcxWiIgZmlsbD0iIzBGNjJGRSIvPgo8cGF0aCBkPSJNMjUuMTQyOSA5SDYuODU3MThWMTEuMjg1N0gyNS4xNDI5VjlaIiBmaWxsPSIjMEY2MkZFIi8+CjxwYXRoIGQ9Ik0xOC4yODU3IDE1Ljg1NzFINi44NTcxOFYxOC4xNDI5SDE4LjI4NTdWMTUuODU3MVoiIGZpbGw9IiMwRjYyRkUiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8yMDAxXzUwIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo=">
      <bpmn:extensionElements>
        <zeebe:ioMapping>
          <zeebe:output source="={&#10;    &#34;subject&#34;: &#34;Chat Request&#34;,&#10;    &#34;request&#34;: message.parts[count(message.parts)].content,&#10;    &#34;originalMessageInFull&#34;: string join(message.parts.content, &#34;; &#34;),&#10;    &#34;communicationContext&#34;: {&#10;        &#34;channel&#34; : &#34;chat&#34;,&#10;        &#34;channelId&#34;: channelUUID,&#10;        &#34;emailAddress&#34;: &#34;bernd.it.depends.ruecker@gmail.com&#34;,&#10;        &#34;conversationId&#34;: conversationUUID,&#10;        &#34;lastMessageId&#34;: message.id&#10;    }&#10;}" target="supportCase" />
          <zeebe:output source="=message" target="chatMessage" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:outgoing>Flow_1i0kcwv</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_11vthav" messageRef="Message_1a02yx4" />
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="Flow_1i0kcwv" sourceRef="StartEvent_Chat" targetRef="Task_ChatThinkingUpdate" />
    <bpmn:exclusiveGateway id="Gateway_0zc209k">
      <bpmn:incoming>Flow_1kjsy4n</bpmn:incoming>
      <bpmn:incoming>Flow_17yswsl</bpmn:incoming>
      <bpmn:incoming>Flow_1fh0m0d</bpmn:incoming>
      <bpmn:incoming>Flow_1qqs8jw</bpmn:incoming>
      <bpmn:incoming>Flow_081ck6o</bpmn:incoming>
      <bpmn:incoming>Flow_0ui9xo3</bpmn:incoming>
      <bpmn:outgoing>Flow_00q22k7</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_00q22k7" sourceRef="Gateway_0zc209k" targetRef="Task_SendBPMNMessage" />
    <bpmn:sequenceFlow id="Flow_17yswsl" sourceRef="StartEvent_Email" targetRef="Gateway_0zc209k" />
    <bpmn:sequenceFlow id="Flow_1fh0m0d" sourceRef="Task_ChatThinkingUpdate" targetRef="Gateway_0zc209k" />
    <bpmn:sequenceFlow id="Flow_1qqs8jw" sourceRef="StartEvent_GetVocal" targetRef="Gateway_0zc209k" />
    <bpmn:startEvent id="StartEvent_TwilioVoice" name="Call started and &#34;How can I help?&#34; asked" zeebe:modelerTemplate="io.camunda.connectors.webhook.WebhookConnectorStartMessage.v1" zeebe:modelerTemplateVersion="13" zeebe:modelerTemplateIcon="data:image/svg+xml;base64,PHN2ZyBpZD0naWNvbicgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMTgnIGhlaWdodD0nMTgnIHZpZXdCb3g9JzAgMCAzMiAzMic+CiAgPGRlZnM+CiAgICA8c3R5bGU+LmNscy0xIHsgZmlsbDogbm9uZTsgfTwvc3R5bGU+CiAgPC9kZWZzPgogIDxwYXRoCiAgICBkPSdNMjQsMjZhMywzLDAsMSwwLTIuODE2NC00SDEzdjFhNSw1LDAsMSwxLTUtNVYxNmE3LDcsMCwxLDAsNi45Mjg3LDhoNi4yNTQ5QTIuOTkxNCwyLjk5MTQsMCwwLDAsMjQsMjZaJy8+CiAgPHBhdGgKICAgIGQ9J00yNCwxNmE3LjAyNCw3LjAyNCwwLDAsMC0yLjU3LjQ4NzNsLTMuMTY1Ni01LjUzOTVhMy4wNDY5LDMuMDQ2OSwwLDEsMC0xLjczMjYuOTk4NWw0LjExODksNy4yMDg1Ljg2ODYtLjQ5NzZhNS4wMDA2LDUuMDAwNiwwLDEsMS0xLjg1MSw2Ljg0MThMMTcuOTM3LDI2LjUwMUE3LjAwMDUsNy4wMDA1LDAsMSwwLDI0LDE2WicvPgogIDxwYXRoCiAgICBkPSdNOC41MzIsMjAuMDUzN2EzLjAzLDMuMDMsMCwxLDAsMS43MzI2Ljk5ODVDMTEuNzQsMTguNDcsMTMuODYsMTQuNzYwNywxMy44OSwxNC43MDhsLjQ5NzYtLjg2ODItLjg2NzctLjQ5N2E1LDUsMCwxLDEsNi44MTItMS44NDM4bDEuNzMxNSwxLjAwMmE3LjAwMDgsNy4wMDA4LDAsMSwwLTEwLjM0NjIsMi4wMzU2Yy0uNDU3Ljc0MjctMS4xMDIxLDEuODcxNi0yLjA3MzcsMy41NzI4WicvPgogIDxyZWN0IGlkPSdfVHJhbnNwYXJlbnRfUmVjdGFuZ2xlXycgZGF0YS1uYW1lPScmbHQ7VHJhbnNwYXJlbnQgUmVjdGFuZ2xlJmd0OycgY2xhc3M9J2Nscy0xJwogICAgd2lkdGg9JzMyJyBoZWlnaHQ9JzMyJy8+Cjwvc3ZnPg==">
      <bpmn:extensionElements>
        <zeebe:properties>
          <zeebe:property name="inbound.subtype" value="ConfigurableInboundWebhook" />
          <zeebe:property name="inbound.type" value="io.camunda:webhook:1" />
          <zeebe:property name="inbound.method" value="any" />
          <zeebe:property name="inbound.context" value="voice" />
          <zeebe:property name="inbound.shouldValidateHmac" value="disabled" />
          <zeebe:property name="inbound.responseExpression" value="={&#10;  statusCode: 200,&#10;  headers: { &#34;Content-Type&#34;: &#34;application/json&#34; },&#10;  body: {&#10;  &#34;Response&#34;: {&#10;    &#34;Gather&#34;: {&#10;      &#34;@input&#34;: &#34;speech&#34;,&#10;      &#34;@timeout&#34;: &#34;30&#34;,&#10;      &#34;@speechTimeout&#34;: &#34;2&#34;,&#10;      &#34;@language&#34;: &#34;en-US&#34;,&#10;      &#34;@action&#34;: &#34;https://catarina-unnicked-famishedly.ngrok-free.dev/inbound/voice-answer&#34;,&#10;      &#34;@method&#34;: &#34;POST&#34;,&#10;      &#34;Say&#34;: {&#10;        &#34;@voice&#34;: &#34;Polly.Danielle-Neural&#34;,&#10;        &#34;#text&#34;: &#34;Here is Camunda Norris - your personal concierge bot. How can I help?&#34;&#10;      }&#10;    },&#10;    &#34;Say&#34;: {&#10;        &#34;@voice&#34;: &#34;Polly.Danielle-Neural&#34;,&#10;      &#34;#text&#34;: &#34;We did not catch any response - please call again later when you made up your mind.&#34;&#10;    },&#10;    &#34;Hangup&#34;: null&#10;  }&#10;}&#10;}&#10;" />
          <zeebe:property name="consumeUnmatchedEvents" value="true" />
          <zeebe:property name="correlationRequired" value="notRequired" />
          <zeebe:property name="correlationRequired" value="required" />
          <zeebe:property name="deduplicationModeManualFlag" value="false" />
          <zeebe:property name="deduplicationMode" value="AUTO" />
          <zeebe:property name="resultVariable" value="request" />
          <zeebe:property name="resultExpression" value="={  &#10;  callSid: request.body.CallSid,&#10;  message: {&#10;    id: request.headers.i-twilio-idempotency-token,&#10;    from: request.body.From,    &#10;    senderId: request.body.Caller,&#10;    mobilePhone: request.body.Caller,&#10;    correlationId: request.body.CallSid,&#10;    channel: &#34;voice&#34;&#10;  },&#10;  twilioRequestBody: request.body  &#10;}&#10;" />
        </zeebe:properties>
      </bpmn:extensionElements>
      <bpmn:outgoing>Flow_1xtyqe6</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_15snu7q" messageRef="Message_084fnnb" />
    </bpmn:startEvent>
    <bpmn:intermediateCatchEvent id="IntermediateEvent_TwilioVoiceAnswerReceived" name="Answer received" zeebe:modelerTemplate="io.camunda.connectors.webhook.WebhookConnectorIntermediate.v1" zeebe:modelerTemplateVersion="13" zeebe:modelerTemplateIcon="data:image/svg+xml;base64,PHN2ZyBpZD0naWNvbicgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMTgnIGhlaWdodD0nMTgnIHZpZXdCb3g9JzAgMCAzMiAzMic+CiAgPGRlZnM+CiAgICA8c3R5bGU+LmNscy0xIHsgZmlsbDogbm9uZTsgfTwvc3R5bGU+CiAgPC9kZWZzPgogIDxwYXRoCiAgICBkPSdNMjQsMjZhMywzLDAsMSwwLTIuODE2NC00SDEzdjFhNSw1LDAsMSwxLTUtNVYxNmE3LDcsMCwxLDAsNi45Mjg3LDhoNi4yNTQ5QTIuOTkxNCwyLjk5MTQsMCwwLDAsMjQsMjZaJy8+CiAgPHBhdGgKICAgIGQ9J00yNCwxNmE3LjAyNCw3LjAyNCwwLDAsMC0yLjU3LjQ4NzNsLTMuMTY1Ni01LjUzOTVhMy4wNDY5LDMuMDQ2OSwwLDEsMC0xLjczMjYuOTk4NWw0LjExODksNy4yMDg1Ljg2ODYtLjQ5NzZhNS4wMDA2LDUuMDAwNiwwLDEsMS0xLjg1MSw2Ljg0MThMMTcuOTM3LDI2LjUwMUE3LjAwMDUsNy4wMDA1LDAsMSwwLDI0LDE2WicvPgogIDxwYXRoCiAgICBkPSdNOC41MzIsMjAuMDUzN2EzLjAzLDMuMDMsMCwxLDAsMS43MzI2Ljk5ODVDMTEuNzQsMTguNDcsMTMuODYsMTQuNzYwNywxMy44OSwxNC43MDhsLjQ5NzYtLjg2ODItLjg2NzctLjQ5N2E1LDUsMCwxLDEsNi44MTItMS44NDM4bDEuNzMxNSwxLjAwMmE3LjAwMDgsNy4wMDA4LDAsMSwwLTEwLjM0NjIsMi4wMzU2Yy0uNDU3Ljc0MjctMS4xMDIxLDEuODcxNi0yLjA3MzcsMy41NzI4WicvPgogIDxyZWN0IGlkPSdfVHJhbnNwYXJlbnRfUmVjdGFuZ2xlXycgZGF0YS1uYW1lPScmbHQ7VHJhbnNwYXJlbnQgUmVjdGFuZ2xlJmd0OycgY2xhc3M9J2Nscy0xJwogICAgd2lkdGg9JzMyJyBoZWlnaHQ9JzMyJy8+Cjwvc3ZnPg==">
      <bpmn:extensionElements>
        <zeebe:properties>
          <zeebe:property name="inbound.type" value="io.camunda:webhook:1" />
          <zeebe:property name="inbound.method" value="any" />
          <zeebe:property name="inbound.context" value="voice-answer" />
          <zeebe:property name="inbound.shouldValidateHmac" value="disabled" />
          <zeebe:property name="inbound.auth.type" value="NONE" />
          <zeebe:property name="inbound.responseExpression" value="={&#10;  &#34;statusCode&#34;: 200,&#10;  &#34;headers&#34;: { &#34;Content-Type&#34;: &#34;application/json&#34; },&#10;  &#34;body&#34;: {  &#10;  &#34;Response&#34;: {&#10;      &#34;Say&#34;: {&#10;        &#34;@voice&#34;: &#34;Polly.Danielle-Neural&#34;,&#10;        &#34;#text&#34;: &#34;One moment.&#34;&#10;      },&#10;    &#34;Pause&#34;: [&#10;      { &#34;@length&#34;: &#34;5&#34; },&#10;      { &#34;@length&#34;: &#34;5&#34; },&#10;      { &#34;@length&#34;: &#34;5&#34; },&#10;      { &#34;@length&#34;: &#34;5&#34; }&#10;    ],&#10;    &#34;Redirect&#34;: {&#10;      &#34;@method&#34;: &#34;POST&#34;,&#10;      &#34;#text&#34;: &#34;https://catarina-unnicked-famishedly.ngrok-free.dev/inbound/twilio/hold-loop&#34;&#10;    }&#10;  }&#10;}&#10;}" />
          <zeebe:property name="consumeUnmatchedEvents" value="true" />
          <zeebe:property name="correlationKeyExpression" value="=request.body.CallSid" />
          <zeebe:property name="deduplicationModeManualFlag" value="false" />
          <zeebe:property name="deduplicationMode" value="AUTO" />
          <zeebe:property name="resultVariable" value="rawAnswer" />
          <zeebe:property name="resultExpression" value="={&#10;  speechResult: request.body.SpeechResult&#10;}" />
        </zeebe:properties>
        <zeebe:ioMapping>
          <zeebe:output source="=context put(message, &#34;text&#34;, speechResult)" target="message" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_17vqh4v</bpmn:incoming>
      <bpmn:outgoing>Flow_0v1qaat</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_10trkdm" messageRef="Message_0ntsbbh" />
    </bpmn:intermediateCatchEvent>
    <bpmn:sequenceFlow id="Flow_0v1qaat" sourceRef="IntermediateEvent_TwilioVoiceAnswerReceived" targetRef="Gateway_0u11jg5" />
    <bpmn:sequenceFlow id="Flow_081ck6o" sourceRef="Gateway_0u11jg5" targetRef="Gateway_0zc209k" />
    <bpmn:parallelGateway id="Gateway_0u11jg5">
      <bpmn:incoming>Flow_0v1qaat</bpmn:incoming>
      <bpmn:outgoing>Flow_081ck6o</bpmn:outgoing>
      <bpmn:outgoing>Flow_0vbvkuw</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:sequenceFlow id="Flow_1xtyqe6" sourceRef="StartEvent_TwilioVoice" targetRef="Gateway_1g6tbad" />
    <bpmn:sequenceFlow id="Flow_17vqh4v" sourceRef="Gateway_1g6tbad" targetRef="IntermediateEvent_TwilioVoiceAnswerReceived" />
    <bpmn:intermediateCatchEvent id="Event_00dp312" name="Call ended" zeebe:modelerTemplate="io.camunda.connectors.webhook.WebhookConnectorIntermediate.v1" zeebe:modelerTemplateVersion="13" zeebe:modelerTemplateIcon="data:image/svg+xml;base64,PHN2ZyBpZD0naWNvbicgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMTgnIGhlaWdodD0nMTgnIHZpZXdCb3g9JzAgMCAzMiAzMic+CiAgPGRlZnM+CiAgICA8c3R5bGU+LmNscy0xIHsgZmlsbDogbm9uZTsgfTwvc3R5bGU+CiAgPC9kZWZzPgogIDxwYXRoCiAgICBkPSdNMjQsMjZhMywzLDAsMSwwLTIuODE2NC00SDEzdjFhNSw1LDAsMSwxLTUtNVYxNmE3LDcsMCwxLDAsNi45Mjg3LDhoNi4yNTQ5QTIuOTkxNCwyLjk5MTQsMCwwLDAsMjQsMjZaJy8+CiAgPHBhdGgKICAgIGQ9J00yNCwxNmE3LjAyNCw3LjAyNCwwLDAsMC0yLjU3LjQ4NzNsLTMuMTY1Ni01LjUzOTVhMy4wNDY5LDMuMDQ2OSwwLDEsMC0xLjczMjYuOTk4NWw0LjExODksNy4yMDg1Ljg2ODYtLjQ5NzZhNS4wMDA2LDUuMDAwNiwwLDEsMS0xLjg1MSw2Ljg0MThMMTcuOTM3LDI2LjUwMUE3LjAwMDUsNy4wMDA1LDAsMSwwLDI0LDE2WicvPgogIDxwYXRoCiAgICBkPSdNOC41MzIsMjAuMDUzN2EzLjAzLDMuMDMsMCwxLDAsMS43MzI2Ljk5ODVDMTEuNzQsMTguNDcsMTMuODYsMTQuNzYwNywxMy44OSwxNC43MDhsLjQ5NzYtLjg2ODItLjg2NzctLjQ5N2E1LDUsMCwxLDEsNi44MTItMS44NDM4bDEuNzMxNSwxLjAwMmE3LjAwMDgsNy4wMDA4LDAsMSwwLTEwLjM0NjIsMi4wMzU2Yy0uNDU3Ljc0MjctMS4xMDIxLDEuODcxNi0yLjA3MzcsMy41NzI4WicvPgogIDxyZWN0IGlkPSdfVHJhbnNwYXJlbnRfUmVjdGFuZ2xlXycgZGF0YS1uYW1lPScmbHQ7VHJhbnNwYXJlbnQgUmVjdGFuZ2xlJmd0OycgY2xhc3M9J2Nscy0xJwogICAgd2lkdGg9JzMyJyBoZWlnaHQ9JzMyJy8+Cjwvc3ZnPg==">
      <bpmn:extensionElements>
        <zeebe:properties>
          <zeebe:property name="inbound.type" value="io.camunda:webhook:1" />
          <zeebe:property name="inbound.method" value="any" />
          <zeebe:property name="inbound.context" value="voice-ended" />
          <zeebe:property name="inbound.shouldValidateHmac" value="disabled" />
          <zeebe:property name="inbound.auth.type" value="NONE" />
          <zeebe:property name="inbound.responseExpression" value="={&#10;  &#34;statusCode&#34;: 200,&#10;  &#34;headers&#34;: { &#34;Content-Type&#34;: &#34;application/json&#34; },&#10;  &#34;body&#34;: {  &#10;  &#34;Response&#34;: {&#10;    &#34;Hangup&#34;: {}&#10;    }&#10;  }&#10;}" />
          <zeebe:property name="consumeUnmatchedEvents" value="true" />
          <zeebe:property name="correlationKeyExpression" value="=request.body.CallSid" />
          <zeebe:property name="deduplicationModeManualFlag" value="false" />
          <zeebe:property name="deduplicationMode" value="AUTO" />
          <zeebe:property name="resultVariable" value="rawAnswer" />
          <zeebe:property name="resultExpression" value="={&#10;  speechResult: request.body.SpeechResult&#10;}" />
        </zeebe:properties>
        <zeebe:ioMapping>
          <zeebe:output source="=context put(message, &#34;text&#34;, speechResult)" target="message" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0wgg2y0</bpmn:incoming>
      <bpmn:outgoing>Flow_18pj38h</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_199uurj" messageRef="Message_0hq7zpl" />
    </bpmn:intermediateCatchEvent>
    <bpmn:intermediateCatchEvent id="Event_13x7lq8" name="Agent ended">
      <bpmn:incoming>Flow_007o2ws</bpmn:incoming>
      <bpmn:outgoing>Flow_0v4kxyv</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1tb1x6l" messageRef="Message_1m2q7mo" />
    </bpmn:intermediateCatchEvent>
    <bpmn:serviceTask id="ServiceTask_TwilioHangup" name="Hangup call" zeebe:modelerTemplateVersion="5" zeebe:modelerTemplateIcon="data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;18&#39; height=&#39;18&#39; preserveAspectRatio=&#39;xMidYMid&#39; viewBox=&#39;0 0 256 256&#39; id=&#39;twilio&#39;%3E%3Cg fill=&#39;%23CF272D&#39;%3E%3Cpath d=&#39;M127.86 222.304c-52.005 0-94.164-42.159-94.164-94.163 0-52.005 42.159-94.163 94.164-94.163 52.004 0 94.162 42.158 94.162 94.163 0 52.004-42.158 94.163-94.162 94.163zm0-222.023C57.245.281 0 57.527 0 128.141 0 198.756 57.245 256 127.86 256c70.614 0 127.859-57.244 127.859-127.859 0-70.614-57.245-127.86-127.86-127.86z&#39;%3E%3C/path%3E%3Cpath d=&#39;M133.116 96.297c0-14.682 11.903-26.585 26.586-26.585 14.683 0 26.585 11.903 26.585 26.585 0 14.684-11.902 26.586-26.585 26.586-14.683 0-26.586-11.902-26.586-26.586M133.116 159.983c0-14.682 11.903-26.586 26.586-26.586 14.683 0 26.585 11.904 26.585 26.586 0 14.683-11.902 26.586-26.585 26.586-14.683 0-26.586-11.903-26.586-26.586M69.431 159.983c0-14.682 11.904-26.586 26.586-26.586 14.683 0 26.586 11.904 26.586 26.586 0 14.683-11.903 26.586-26.586 26.586-14.682 0-26.586-11.903-26.586-26.586M69.431 96.298c0-14.683 11.904-26.585 26.586-26.585 14.683 0 26.586 11.902 26.586 26.585 0 14.684-11.903 26.586-26.586 26.586-14.682 0-26.586-11.902-26.586-26.586&#39;%3E%3C/path%3E%3C/g%3E%3C/svg%3E">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:http-json:1" />
        <zeebe:ioMapping>
          <zeebe:input source="=call" target="operationType" />
          <zeebe:input source="accountSidAuthToken" target="authType" />
          <zeebe:input source="=&#34;{{secrets.TWILIO_ACCOUNT_SID}}&#34;" target="accountSid" />
          <zeebe:input source="basic" target="authentication.type" />
          <zeebe:input source="post" target="method" />
          <zeebe:input source="={&#34;Content-Type&#34;:&#34;application/x-www-form-urlencoded&#34;}" target="headers" />
          <zeebe:input source="=&#34;{{secrets.TWILIO_ACCOUNT_SID}}&#34;" target="authentication.username" />
          <zeebe:input source="=&#34;{{secrets.TWILIO_AUTH_TOKEN}}&#34;" target="authentication.password" />
          <zeebe:input source="=&#34;https://api.twilio.com/2010-04-01/Accounts/{{secrets.TWILIO_ACCOUNT_SID}}/Calls/&#34;+callSid+&#34;.json&#34;" target="url" />
          <zeebe:input source="20" target="connectionTimeoutInSeconds" />
          <zeebe:input source="=&#34;&#60;Response&#62;&#10;        &#60;Hangup&#62;&#60;/Hangup&#62;&#10;&#60;/Response&#62;&#34;" target="body.Twiml" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0v4kxyv</bpmn:incoming>
      <bpmn:outgoing>Flow_1l2uv57</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:intermediateThrowEvent id="Event_1a1o3of" name="TODO...">
      <bpmn:incoming>Flow_18pj38h</bpmn:incoming>
      <bpmn:outgoing>Flow_17s4kj5</bpmn:outgoing>
    </bpmn:intermediateThrowEvent>
    <bpmn:eventBasedGateway id="Gateway_1g6tbad">
      <bpmn:incoming>Flow_1xtyqe6</bpmn:incoming>
      <bpmn:incoming>Flow_0vbvkuw</bpmn:incoming>
      <bpmn:outgoing>Flow_17vqh4v</bpmn:outgoing>
      <bpmn:outgoing>Flow_0wgg2y0</bpmn:outgoing>
      <bpmn:outgoing>Flow_007o2ws</bpmn:outgoing>
    </bpmn:eventBasedGateway>
    <bpmn:sequenceFlow id="Flow_0vbvkuw" sourceRef="Gateway_0u11jg5" targetRef="Gateway_1g6tbad" />
    <bpmn:sequenceFlow id="Flow_0wgg2y0" sourceRef="Gateway_1g6tbad" targetRef="Event_00dp312" />
    <bpmn:sequenceFlow id="Flow_18pj38h" sourceRef="Event_00dp312" targetRef="Event_1a1o3of" />
    <bpmn:endEvent id="Event_19jef2l" name="Call interrupted">
      <bpmn:incoming>Flow_17s4kj5</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_17s4kj5" sourceRef="Event_1a1o3of" targetRef="Event_19jef2l" />
    <bpmn:endEvent id="Event_0yb8eox" name="Call finished">
      <bpmn:incoming>Flow_1l2uv57</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_1l2uv57" sourceRef="ServiceTask_TwilioHangup" targetRef="Event_0yb8eox" />
    <bpmn:sequenceFlow id="Flow_007o2ws" sourceRef="Gateway_1g6tbad" targetRef="Event_13x7lq8" />
    <bpmn:sequenceFlow id="Flow_0v4kxyv" sourceRef="Event_13x7lq8" targetRef="ServiceTask_TwilioHangup" />
    <bpmn:serviceTask id="Task_WhatsAppReply" name="Start typing indicator" zeebe:modelerTemplate="io.camunda.connectors.Twilio.v1" zeebe:modelerTemplateVersion="5" zeebe:modelerTemplateIcon="data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;18&#39; height=&#39;18&#39; preserveAspectRatio=&#39;xMidYMid&#39; viewBox=&#39;0 0 256 256&#39; id=&#39;twilio&#39;%3E%3Cg fill=&#39;%23CF272D&#39;%3E%3Cpath d=&#39;M127.86 222.304c-52.005 0-94.164-42.159-94.164-94.163 0-52.005 42.159-94.163 94.164-94.163 52.004 0 94.162 42.158 94.162 94.163 0 52.004-42.158 94.163-94.162 94.163zm0-222.023C57.245.281 0 57.527 0 128.141 0 198.756 57.245 256 127.86 256c70.614 0 127.859-57.244 127.859-127.859 0-70.614-57.245-127.86-127.86-127.86z&#39;%3E%3C/path%3E%3Cpath d=&#39;M133.116 96.297c0-14.682 11.903-26.585 26.586-26.585 14.683 0 26.585 11.903 26.585 26.585 0 14.684-11.902 26.586-26.585 26.586-14.683 0-26.586-11.902-26.586-26.586M133.116 159.983c0-14.682 11.903-26.586 26.586-26.586 14.683 0 26.585 11.904 26.585 26.586 0 14.683-11.902 26.586-26.585 26.586-14.683 0-26.586-11.903-26.586-26.586M69.431 159.983c0-14.682 11.904-26.586 26.586-26.586 14.683 0 26.586 11.904 26.586 26.586 0 14.683-11.903 26.586-26.586 26.586-14.682 0-26.586-11.903-26.586-26.586M69.431 96.298c0-14.683 11.904-26.585 26.586-26.585 14.683 0 26.586 11.902 26.586 26.585 0 14.684-11.903 26.586-26.586 26.586-14.682 0-26.586-11.902-26.586-26.586&#39;%3E%3C/path%3E%3C/g%3E%3C/svg%3E">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:http-json:1" />
        <zeebe:ioMapping>
          <zeebe:input source="basic" target="authentication.type" />
          <zeebe:input source="{{secrets.TWILIO_ACCOUNT_SID}}" target="authentication.username" />
          <zeebe:input source="{{secrets.TWILIO_AUTH_TOKEN}}" target="authentication.password" />
          <zeebe:input source="POST" target="method" />
          <zeebe:input source="https://messaging.twilio.com/v2/Indicators/Typing.json" target="url" />
          <zeebe:input source="= &#34;messageId=&#34; + message.id + &#34;&#38;channel=whatsapp&#34;" target="body" />
          <zeebe:input source="={ &#34;Content-Type&#34;: &#34;application/x-www-form-urlencoded&#34; }" target="headers" />
          <zeebe:input source="20" target="connectionTimeoutInSeconds" />
          <zeebe:input source="20" target="readTimeoutInSeconds" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0pemwmw</bpmn:incoming>
      <bpmn:outgoing>Flow_0ui9xo3</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_0ui9xo3" sourceRef="Task_WhatsAppReply" targetRef="Gateway_0zc209k" />
  </bpmn:process>
  <bpmn:message id="Message_1b7rezg" name="5f94b05f-5d03-4e0b-a66d-961e530c19be" zeebe:modelerTemplate="io.camunda.connectors.TwilioWebhookMessageStart.v1" />
  <bpmn:message id="Message_0o7wtk9" name="306ec9c5-911d-4979-b781-1f6b5fc741ad" zeebe:modelerTemplate="io.camunda.connectors.inbound.EmailMessageStart.v1" />
  <bpmn:message id="Message_3hatd6n" name="MSG_GetVocal" />
  <bpmn:message id="Message_10tt9l0" name="e10f9b4a-5d86-4eb7-9790-52fa679a5645" zeebe:modelerTemplate="Template_0zt2ly0" />
  <bpmn:message id="Message_1a02yx4" name="io.camunda.chat.message.6f459df0-d0eb-4b54-b299-ddc2a1fdc0d7" zeebe:modelerTemplate="io.camunda.chat.messageStart.6f459df0-d0eb-4b54-b299-ddc2a1fdc0d7.v1" />
  <bpmn:message id="Message_084fnnb" name="6ee1ddd5-7aaf-4648-94a6-8fa76e4acd52" zeebe:modelerTemplate="io.camunda.connectors.webhook.WebhookConnectorStartMessage.v1" />
  <bpmn:message id="Message_0ntsbbh" name="b0659478-3434-4221-acfc-a5d3ed4ab8d9" zeebe:modelerTemplate="io.camunda.connectors.webhook.WebhookConnectorIntermediate.v1">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=callSid" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:message id="Message_2ofa861" name="CommunicationAgentEnded">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=message.correlationId" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:message id="Message_1m2q7mo" name="CommunicationAgentEnded">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=message.correlationId" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:message id="Message_0hq7zpl" name="51131665-b2a8-4a39-a6d0-2c09b794e16c" zeebe:modelerTemplate="io.camunda.connectors.webhook.WebhookConnectorIntermediate.v1">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=callSid" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="message-receiver">
      <bpmndi:BPMNShape id="Event_1gdoluy_di" bpmnElement="Event_1gdoluy">
        <dc:Bounds x="742" y="162" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="736" y="205" width="49" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0t34g44_di" bpmnElement="Task_SendBPMNMessage">
        <dc:Bounds x="590" y="140" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0x9wfpp_di" bpmnElement="StartEvent_WhatsApp">
        <dc:Bounds x="182" y="162" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="175" y="205" width="51" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_02j563c_di" bpmnElement="Event_02j563c">
        <dc:Bounds x="182" y="82" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="167" y="125" width="67" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0bgxirs_di" bpmnElement="StartEvent_Email">
        <dc:Bounds x="182" y="292" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="161" y="335" width="78" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0shrxp6" bpmnElement="Task_ChatThinkingUpdate">
        <dc:Bounds x="270" y="370" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0rgli93_di" bpmnElement="StartEvent_GetVocal">
        <dc:Bounds x="182" y="492" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="158" y="535" width="85" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_18kap8k_di" bpmnElement="StartEvent_Chat">
        <dc:Bounds x="182" y="392" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="158" y="435" width="88" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0zc209k_di" bpmnElement="Gateway_0zc209k" isMarkerVisible="true">
        <dc:Bounds x="525" y="155" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0238df8_di" bpmnElement="StartEvent_TwilioVoice">
        <dc:Bounds x="182" y="622" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="158" y="665" width="87" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0y48bj7_di" bpmnElement="IntermediateEvent_TwilioVoiceAnswerReceived">
        <dc:Bounds x="352" y="622" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="319" y="663" width="81" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1p5cxar_di" bpmnElement="Gateway_0u11jg5">
        <dc:Bounds x="415" y="615" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1bcczvf" bpmnElement="Event_00dp312">
        <dc:Bounds x="352" y="692" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="343" y="733" width="53" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_13ozxdv_di" bpmnElement="Event_13x7lq8">
        <dc:Bounds x="352" y="802" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="339" y="845" width="62" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_10bin0u" bpmnElement="ServiceTask_TwilioHangup">
        <dc:Bounds x="440" y="780" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1a1o3of_di" bpmnElement="Event_1a1o3of">
        <dc:Bounds x="472" y="692" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="470" y="735" width="41" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0vjq5ia_di" bpmnElement="Gateway_1g6tbad">
        <dc:Bounds x="265" y="615" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_19jef2l_di" bpmnElement="Event_19jef2l">
        <dc:Bounds x="582" y="692" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="563" y="735" width="75" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0yb8eox_di" bpmnElement="Event_0yb8eox">
        <dc:Bounds x="582" y="802" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="571" y="845" width="60" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1t2rcit_di" bpmnElement="Task_WhatsAppReply">
        <dc:Bounds x="270" y="140" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1ehxd7q_di" bpmnElement="Flow_1ehxd7q">
        <di:waypoint x="690" y="180" />
        <di:waypoint x="742" y="180" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0pemwmw_di" bpmnElement="Flow_0pemwmw">
        <di:waypoint x="218" y="180" />
        <di:waypoint x="270" y="180" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1kjsy4n_di" bpmnElement="Flow_1kjsy4n">
        <di:waypoint x="218" y="100" />
        <di:waypoint x="550" y="100" />
        <di:waypoint x="550" y="155" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1i0kcwv_di" bpmnElement="Flow_1i0kcwv">
        <di:waypoint x="218" y="410" />
        <di:waypoint x="270" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_00q22k7_di" bpmnElement="Flow_00q22k7">
        <di:waypoint x="575" y="180" />
        <di:waypoint x="590" y="180" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_17yswsl_di" bpmnElement="Flow_17yswsl">
        <di:waypoint x="218" y="310" />
        <di:waypoint x="550" y="310" />
        <di:waypoint x="550" y="205" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1fh0m0d_di" bpmnElement="Flow_1fh0m0d">
        <di:waypoint x="370" y="410" />
        <di:waypoint x="550" y="410" />
        <di:waypoint x="550" y="205" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1qqs8jw_di" bpmnElement="Flow_1qqs8jw">
        <di:waypoint x="218" y="510" />
        <di:waypoint x="550" y="510" />
        <di:waypoint x="550" y="205" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0v1qaat_di" bpmnElement="Flow_0v1qaat">
        <di:waypoint x="388" y="640" />
        <di:waypoint x="415" y="640" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_081ck6o_di" bpmnElement="Flow_081ck6o">
        <di:waypoint x="465" y="640" />
        <di:waypoint x="550" y="640" />
        <di:waypoint x="550" y="205" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1xtyqe6_di" bpmnElement="Flow_1xtyqe6">
        <di:waypoint x="218" y="640" />
        <di:waypoint x="265" y="640" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_17vqh4v_di" bpmnElement="Flow_17vqh4v">
        <di:waypoint x="315" y="640" />
        <di:waypoint x="352" y="640" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0vbvkuw_di" bpmnElement="Flow_0vbvkuw">
        <di:waypoint x="440" y="615" />
        <di:waypoint x="440" y="570" />
        <di:waypoint x="290" y="570" />
        <di:waypoint x="290" y="615" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0wgg2y0_di" bpmnElement="Flow_0wgg2y0">
        <di:waypoint x="290" y="665" />
        <di:waypoint x="290" y="710" />
        <di:waypoint x="352" y="710" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_18pj38h_di" bpmnElement="Flow_18pj38h">
        <di:waypoint x="388" y="710" />
        <di:waypoint x="472" y="710" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_17s4kj5_di" bpmnElement="Flow_17s4kj5">
        <di:waypoint x="508" y="710" />
        <di:waypoint x="582" y="710" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1l2uv57_di" bpmnElement="Flow_1l2uv57">
        <di:waypoint x="540" y="820" />
        <di:waypoint x="582" y="820" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_007o2ws_di" bpmnElement="Flow_007o2ws">
        <di:waypoint x="290" y="665" />
        <di:waypoint x="290" y="820" />
        <di:waypoint x="352" y="820" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0v4kxyv_di" bpmnElement="Flow_0v4kxyv">
        <di:waypoint x="388" y="820" />
        <di:waypoint x="440" y="820" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ui9xo3_di" bpmnElement="Flow_0ui9xo3">
        <di:waypoint x="370" y="180" />
        <di:waypoint x="525" y="180" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
