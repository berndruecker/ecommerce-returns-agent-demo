<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:zeebe="http://camunda.org/schema/zeebe/1.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:modeler="http://camunda.org/schema/modeler/1.0" id="Definitions_0umglak" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="5.43.1" modeler:executionPlatform="Camunda Cloud" modeler:executionPlatformVersion="8.8.0">
  <bpmn:process id="message-sender" isExecutable="true">
    <bpmn:startEvent id="StartEvent_1">
      <bpmn:outgoing>Flow_1tedn6d</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:exclusiveGateway id="Gateway_CommunicationChannel" name="Communication Channel" default="Flow_other">
      <bpmn:incoming>Flow_1tedn6d</bpmn:incoming>
      <bpmn:outgoing>Flow_email</bpmn:outgoing>
      <bpmn:outgoing>Flow_chat</bpmn:outgoing>
      <bpmn:outgoing>Flow_other</bpmn:outgoing>
      <bpmn:outgoing>Flow_GetVocal</bpmn:outgoing>
      <bpmn:outgoing>Flow_1037yv4</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:serviceTask id="Reply_with_email_to_customer" name="Ask customer via email" zeebe:modelerTemplate="io.camunda.connectors.email.v1" zeebe:modelerTemplateVersion="2" zeebe:modelerTemplateIcon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzkwXzI0MjApIj4KPHBhdGggZD0iTTguMzM4MzUgOS45NTM2NUwxMC4zODk0IDEyLjAxMDRMOC4zMzI2MiAxNC4wNjcyTDkuMTQ2MTYgMTQuODc1TDEyLjAxMDcgMTIuMDEwNEw5LjE0NjE2IDkuMTQ1ODNMOC4zMzgzNSA5Ljk1MzY1WiIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTEyLjM0ODggOS45NTM2NUwxNC4zOTk4IDEyLjAxMDRMMTIuMzQzIDE0LjA2NzJMMTMuMTU2NiAxNC44NzVMMTYuMDIxMiAxMi4wMTA0TDEzLjE1NjYgOS4xNDU4M0wxMi4zNDg4IDkuOTUzNjVaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNMy45NzIgMTEuNDM3NUgxLjEyNTMzVjIuNzkyMTlMNy42NzM3NiA3LjMyMzk2QzcuNzY5NjcgNy4zOTA0OSA3Ljg4MzYgNy40MjYxNCA4LjAwMDMyIDcuNDI2MTRDOC4xMTcwNSA3LjQyNjE0IDguMjMwOTggNy4zOTA0OSA4LjMyNjg5IDcuMzIzOTZMMTQuODc1MyAyLjc5MjE5VjhIMTYuMDIxMlYyLjI3MDgzQzE2LjAyMTIgMS45NjY5NCAxNS45MDA0IDEuNjc1NDkgMTUuNjg1NiAxLjQ2MDYxQzE1LjQ3MDcgMS4yNDU3MiAxNS4xNzkyIDEuMTI1IDE0Ljg3NTMgMS4xMjVIMS4xMjUzM0MwLjgyMTQzMiAxLjEyNSAwLjUyOTk4NCAxLjI0NTcyIDAuMzE1MDk5IDEuNDYwNjFDMC4xMDAyMTQgMS42NzU0OSAtMC4wMjA1MDc4IDEuOTY2OTQgLTAuMDIwNTA3OCAyLjI3MDgzVjExLjQzNzVDLTAuMDIwNTA3OCAxMS43NDE0IDAuMTAwMjE0IDEyLjAzMjggMC4zMTUwOTkgMTIuMjQ3N0MwLjUyOTk4NCAxMi40NjI2IDAuODIxNDMyIDEyLjU4MzMgMS4xMjUzMyAxMi41ODMzSDMuOTcyVjExLjQzNzVaTTEzLjYxNDkgMi4yNzA4M0w4LjAwMDMyIDYuMTU1MjFMMi4zODU3NCAyLjI3MDgzSDEzLjYxNDlaIiBmaWxsPSIjRkM1RDBEIi8+CjxwYXRoIGQ9Ik00LjI4MjEgOS45NTM2NUw2LjMzMzE0IDEyLjAxMDRMNC4yNzYzNyAxNC4wNjcyTDUuMDg5OTEgMTQuODc1TDcuOTU0NDkgMTIuMDEwNEw1LjA4OTkxIDkuMTQ1ODNMNC4yODIxIDkuOTUzNjVaIiBmaWxsPSJibGFjayIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzkwXzI0MjAiPgo8cmVjdCB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==">
      <bpmn:documentation>Use this activity to reply to the customer via email to ask questions and clarify requirements.</bpmn:documentation>
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:email:1" retries="3" />
        <zeebe:ioMapping>
          <zeebe:input source="simple" target="authentication.type" />
          <zeebe:input source="{{secrets.GMAIL_INBOX_USER}}" target="authentication.username" />
          <zeebe:input source="{{secrets.GMAIL_INBOX_PASSWORD}}" target="authentication.password" />
          <zeebe:input source="smtp" target="protocol" />
          <zeebe:input source="smtp.gmail.com" target="data.smtpConfig.smtpHost" />
          <zeebe:input source="=587" target="data.smtpConfig.smtpPort" />
          <zeebe:input source="TLS" target="data.smtpConfig.smtpCryptographicProtocol" />
          <zeebe:input source="sendEmailSmtp" target="data.smtpActionDiscriminator" />
          <zeebe:input source="{{secrets.GMAIL_INBOX_USER}}" target="data.smtpAction.from" />
          <zeebe:input source="=communicationContext.emailAddress" target="data.smtpAction.to" />
          <zeebe:input source="=if communicationContext.conversationId != null then &#10;  { &#34;In-Reply-To&#34;: communicationContext.conversationId } &#10;else &#10;  {}" target="data.smtpAction.headers" />
          <zeebe:input source="=communicationContent.subject" target="data.smtpAction.subject" />
          <zeebe:input source="PLAIN" target="data.smtpAction.contentType" />
          <zeebe:input source="=communicationContent.text" target="data.smtpAction.body" />
        </zeebe:ioMapping>
        <zeebe:taskHeaders>
          <zeebe:header key="resultVariable" value="ourReplyEmail" />
          <zeebe:header key="retryBackoff" value="PT0S" />
        </zeebe:taskHeaders>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_email</bpmn:incoming>
      <bpmn:incoming>Flow_0ubp3c7</bpmn:incoming>
      <bpmn:outgoing>Flow_09gjg6u</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:endEvent id="Event_AnswerReceived_Email" name="Information retrieved via email">
      <bpmn:extensionElements>
        <zeebe:ioMapping>
          <zeebe:output source="={&#10;  status: &#34;success&#34;,&#10;  email: responseEmail,&#10;  text: responseEmail.plainTextBody&#10;}" target="communicationResult" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_09gjg6u</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:serviceTask id="Task_ChatReply" name="Ask customer via chat" zeebe:modelerTemplate="io.camunda.chat.rest.reply.camunda-chat-admin-986421179728.europe-west1.run.app.v1" zeebe:modelerTemplateVersion="1" zeebe:modelerTemplateIcon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzIwMDFfNTApIj4KPHBhdGggZD0iTTE3Ljk4ODYgMzEuODU3MUwxNiAzMC43MTQzTDIwLjU3MTQgMjIuNzE0M0gyNy40Mjg2QzI4LjAzNDggMjIuNzE0MyAyOC42MTYyIDIyLjQ3MzUgMjkuMDQ0OCAyMi4wNDQ4QzI5LjQ3MzUgMjEuNjE2MiAyOS43MTQzIDIxLjAzNDggMjkuNzE0MyAyMC40Mjg2VjYuNzE0MjhDMjkuNzE0MyA2LjEwODA3IDI5LjQ3MzUgNS41MjY2OSAyOS4wNDQ4IDUuMDk4MDRDMjguNjE2MiA0LjY2OTM4IDI4LjAzNDggNC40Mjg1NyAyNy40Mjg2IDQuNDI4NTdINC41NzE0M0MzLjk2NTIyIDQuNDI4NTcgMy4zODM4NCA0LjY2OTM4IDIuOTU1MTggNS4wOTgwNEMyLjUyNjUzIDUuNTI2NjkgMi4yODU3MSA2LjEwODA3IDIuMjg1NzEgNi43MTQyOFYyMC40Mjg2QzIuMjg1NzEgMjEuMDM0OCAyLjUyNjUzIDIxLjYxNjIgMi45NTUxOCAyMi4wNDQ4QzMuMzgzODQgMjIuNDczNSAzLjk2NTIyIDIyLjcxNDMgNC41NzE0MyAyMi43MTQzSDE0Ljg1NzFWMjVINC41NzE0M0MzLjM1OTAxIDI1IDIuMTk2MjUgMjQuNTE4NCAxLjMzODk0IDIzLjY2MTFDMC40ODE2MzEgMjIuODAzNyAwIDIxLjY0MSAwIDIwLjQyODZWNi43MTQyOEMwIDUuNTAxODYgMC40ODE2MzEgNC4zMzkxIDEuMzM4OTQgMy40ODE3OUMyLjE5NjI1IDIuNjI0NDggMy4zNTkwMSAyLjE0Mjg1IDQuNTcxNDMgMi4xNDI4NUgyNy40Mjg2QzI4LjY0MSAyLjE0Mjg1IDI5LjgwMzggMi42MjQ0OCAzMC42NjExIDMuNDgxNzlDMzEuNTE4NCA0LjMzOTEgMzIgNS41MDE4NiAzMiA2LjcxNDI4VjIwLjQyODZDMzIgMjEuNjQxIDMxLjUxODQgMjIuODAzNyAzMC42NjExIDIzLjY2MTFDMjkuODAzOCAyNC41MTg0IDI4LjY0MSAyNSAyNy40Mjg2IDI1SDIxLjg5NzFMMTcuOTg4NiAzMS44NTcxWiIgZmlsbD0iIzBGNjJGRSIvPgo8cGF0aCBkPSJNMjUuMTQyOSA5SDYuODU3MThWMTEuMjg1N0gyNS4xNDI5VjlaIiBmaWxsPSIjMEY2MkZFIi8+CjxwYXRoIGQ9Ik0xOC4yODU3IDE1Ljg1NzFINi44NTcxOFYxOC4xNDI5SDE4LjI4NTdWMTUuODU3MVoiIGZpbGw9IiMwRjYyRkUiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8yMDAxXzUwIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo=">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:http-json:1" retries="3" />
        <zeebe:ioMapping>
          <zeebe:input source="https://camunda-chat-admin-986421179728.europe-west1.run.app/api/" target="apiBaseUrl" />
          <zeebe:input source="=communicationContext.channelId" target="channelUUID" />
          <zeebe:input source="=communicationContext.conversationId" target="conversationUUID" />
          <zeebe:input source="{{secrets.CHAT_BACKEND_SERVICE_TOKEN}}" target="authToken" />
          <zeebe:input source="markdown" target="messageType" />
          <zeebe:input source="=communicationContent.text" target="content" />
          <zeebe:input source="={&#34;type&#34;: &#34;bearer&#34;, &#34;token&#34;: authToken}" target="authentication" />
          <zeebe:input source="PUT" target="method" />
          <zeebe:input source="=apiBaseUrl + &#34;channels/&#34; + channelUUID + &#34;/conversations/&#34; + conversationUUID + &#34;/messages/&#34; + uuid()" target="url" />
          <zeebe:input source="={&#34;senderUsername&#34;:&#34;Camunda&#34;,&#34;parts&#34;:[{&#34;type&#34;: messageType, &#34;content&#34;: content, &#34;position&#34;: 0}]}" target="body" />
          <zeebe:input source="=false" target="storeResponse" />
          <zeebe:input source="=false" target="ignoreNullValues" />
          <zeebe:input source="=20" target="connectionTimeoutInSeconds" />
          <zeebe:input source="=20" target="readTimeoutInSeconds" />
        </zeebe:ioMapping>
        <zeebe:taskHeaders>
          <zeebe:header key="retryBackoff" value="PT0S" />
        </zeebe:taskHeaders>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_chat</bpmn:incoming>
      <bpmn:outgoing>Flow_1w680ql</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="Task_AskCustomer_Phone" name="Ask customer via phone">
      <bpmn:extensionElements>
        <zeebe:userTask />
        <zeebe:ioMapping>
          <zeebe:input source="=&#34;Please provide your response&#34;" target="clerkResponse" />
          <zeebe:output source="=clerkResponse" target="clerkResponse" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_other</bpmn:incoming>
      <bpmn:outgoing>Flow_0ibbtmp</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:endEvent id="Event_AnswerReceived_Phone" name="Information retrieved via phone">
      <bpmn:extensionElements>
        <zeebe:ioMapping>
          <zeebe:output source="={&#10;  &#34;status&#34;: &#34;success&#34;,  &#10;  &#34;text&#34;: clerkResponse&#10;}" target="communicationResult" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0ibbtmp</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:endEvent id="Event_AnswerReceived_Chat" name="Information retrieved via chat">
      <bpmn:extensionElements>
        <zeebe:ioMapping>
          <zeebe:output source="={&#10;  status: &#34;success&#34;,&#10;  chat: message,&#10;  text: message.parts[count(message.parts)-1].content&#10;}" target="communicationResult" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1w680ql</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:serviceTask id="Activity_0q3ulxn" name="Return answer to GetVocal" zeebe:modelerTemplate="Template_0ledzkf" zeebe:modelerTemplateVersion="1" zeebe:modelerTemplateIcon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgxIiBoZWlnaHQ9IjI1NiIgdmlld0JveD0iMCAwIDQ4MSAyNTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0wIDEwNS4wNkMwIDk5LjA4MTcgNC44NDYyMiA5NC4yMzU1IDEwLjgyNDMgOTQuMjM1NUMxNi44MDI1IDk0LjIzNTUgMjEuNjQ4NyA5OS4wODE3IDIxLjY0ODcgMTA1LjA2VjEyNS40MzVDMjEuNjQ4NyAxMzEuNDEzIDE2LjgwMjUgMTM2LjI1OSAxMC44MjQzIDEzNi4yNTlDNC44NDYyMiAxMzYuMjU5IDAgMTMxLjQxMyAwIDEyNS40MzVWMTA1LjA2WiIgZmlsbD0iIzExMTExMSIvPgo8cGF0aCBkPSJNMTE0LjYxMSA4Mi4xMzc3QzExNC42MTEgNzYuMTU5NSAxMTkuNDU3IDcxLjMxMzMgMTI1LjQzNSA3MS4zMTMzQzEzMS40MTMgNzEuMzEzMyAxMzYuMjU5IDc2LjE1OTUgMTM2LjI1OSA4Mi4xMzc3VjEwMi41MTNDMTM2LjI1OSAxMDguNDkxIDEzMS40MTMgMTEzLjMzNyAxMjUuNDM1IDExMy4zMzdDMTE5LjQ1NyAxMTMuMzM3IDExNC42MTEgMTA4LjQ5MSAxMTQuNjExIDEwMi41MTNWODIuMTM3N1oiIGZpbGw9IiMxMTExMTEiLz4KPHBhdGggZD0iTTQ1OC40NDMgMTA1LjA2QzQ1OC40NDMgOTkuMDgxNyA0NjMuMjg5IDk0LjIzNTUgNDY5LjI2NyA5NC4yMzU1QzQ3NS4yNDUgOTQuMjM1NSA0ODAuMDkxIDk5LjA4MTcgNDgwLjA5MSAxMDUuMDZWMTI1LjQzNUM0ODAuMDkxIDEzMS40MTMgNDc1LjI0NSAxMzYuMjU5IDQ2OS4yNjcgMTM2LjI1OUM0NjMuMjg5IDEzNi4yNTkgNDU4LjQ0MyAxMzEuNDEzIDQ1OC40NDMgMTI1LjQzNVYxMDUuMDZaIiBmaWxsPSIjMTExMTExIi8+CjxwYXRoIGQ9Ik01Ny4zMDUzIDU5LjIxNTVDNTcuMzA1MyA1My4yMzc0IDYyLjE1MTYgNDguMzkxMiA2OC4xMjk3IDQ4LjM5MTJDNzQuMTA3OCA0OC4zOTEyIDc4Ljk1NCA1My4yMzc0IDc4Ljk1NCA1OS4yMTU1VjEyNi43MDhDNzguOTU0IDEzMi42ODcgNzQuMTA3OCAxMzcuNTMzIDY4LjEyOTcgMTM3LjUzM0M2Mi4xNTE2IDEzNy41MzMgNTcuMzA1MyAxMzIuNjg3IDU3LjMwNTMgMTI2LjcwOFY1OS4yMTU1WiIgZmlsbD0iIzExMTExMSIvPgo8cGF0aCBkPSJNMTcxLjkxNiAzOC44NDAzQzE3MS45MTYgMzIuODYyMiAxNzYuNzYyIDI4LjAxNTkgMTgyLjc0IDI4LjAxNTlDMTg4LjcxOSAyOC4wMTU5IDE5My41NjUgMzIuODYyMiAxOTMuNTY1IDM4Ljg0MDNWOTYuMTQ1NkMxOTMuNTY1IDEwMi4xMjQgMTg4LjcxOSAxMDYuOTcgMTgyLjc0IDEwNi45N0MxNzYuNzYyIDEwNi45NyAxNzEuOTE2IDEwMi4xMjQgMTcxLjkxNiA5Ni4xNDU2VjM4Ljg0MDNaIiBmaWxsPSIjMTExMTExIi8+CjxwYXRoIGQ9Ik0yODYuNTI3IDM4Ljg0MDNDMjg2LjUyNyAzMi44NjIyIDI5MS4zNzMgMjguMDE1OSAyOTcuMzUxIDI4LjAxNTlDMzAzLjMyOSAyOC4wMTU5IDMwOC4xNzUgMzIuODYyMiAzMDguMTc1IDM4Ljg0MDNWOTYuMTQ1NkMzMDguMTc1IDEwMi4xMjQgMzAzLjMyOSAxMDYuOTcgMjk3LjM1MSAxMDYuOTdDMjkxLjM3MyAxMDYuOTcgMjg2LjUyNyAxMDIuMTI0IDI4Ni41MjcgOTYuMTQ1NlYzOC44NDAzWiIgZmlsbD0iIzExMTExMSIvPgo8cGF0aCBkPSJNMzQzLjgzMiA4My40MTExQzM0My44MzIgNzcuNDMzIDM0OC42NzggNzIuNTg2OCAzNTQuNjU2IDcyLjU4NjhDMzYwLjYzNSA3Mi41ODY4IDM2NS40ODEgNzcuNDMzIDM2NS40ODEgODMuNDExMVYxMjYuNzA4QzM2NS40ODEgMTMyLjY4NyAzNjAuNjM1IDEzNy41MzMgMzU0LjY1NiAxMzcuNTMzQzM0OC42NzggMTM3LjUzMyAzNDMuODMyIDEzMi42ODcgMzQzLjgzMiAxMjYuNzA4VjgzLjQxMTFaIiBmaWxsPSIjMTExMTExIi8+CjxwYXRoIGQ9Ik00MDEuMTM3IDYwLjQ4OUM0MDEuMTM3IDU0LjUxMDkgNDA1Ljk4NCA0OS42NjQ2IDQxMS45NjIgNDkuNjY0NkM0MTcuOTQgNDkuNjY0NiA0MjIuNzg2IDU0LjUxMDkgNDIyLjc4NiA2MC40ODlWMTEzLjk3NEM0MjIuNzg2IDExOS45NTIgNDE3Ljk0IDEyNC43OTggNDExLjk2MiAxMjQuNzk4QzQwNS45ODQgMTI0Ljc5OCA0MDEuMTM3IDExOS45NTIgNDAxLjEzNyAxMTMuOTc0VjYwLjQ4OVoiIGZpbGw9IiMxMTExMTEiLz4KPHBhdGggZD0iTTIyOS4yMjEgMTAuODI0M0MyMjkuMjIxIDQuODQ2MjIgMjM0LjA2OCAwIDI0MC4wNDYgMEMyNDYuMDI0IDAgMjUwLjg3IDQuODQ2MjIgMjUwLjg3IDEwLjgyNDNWMTE5LjA2OEMyNTAuODcgMTI1LjA0NiAyNDYuMDI0IDEyOS44OTIgMjQwLjA0NiAxMjkuODkyQzIzNC4wNjggMTI5Ljg5MiAyMjkuMjIxIDEyNS4wNDYgMjI5LjIyMSAxMTkuMDY4VjEwLjgyNDNaIiBmaWxsPSIjMTExMTExIi8+CjxwYXRoIGQ9Ik00NDYuODI5IDI1NC4zNDVINDMyLjQyMlYxODYuMjA1SDQ0Ni44MjlWMjU0LjM0NVoiIGZpbGw9IiMxRTFFMUUiLz4KPHBhdGggZD0iTTM5My4zOTMgMjU1LjYxMUMzODguNDYxIDI1NS42MTEgMzg0LjUzNSAyNTQuMzQ1IDM4MS42MTUgMjUxLjgxNEMzNzguNjk1IDI0OS4yMTggMzc3LjIzNCAyNDUuNzQ2IDM3Ny4yMzQgMjQxLjM5OEMzNzcuMjM0IDIzNy4yNDUgMzc4LjQwMiAyMzMuOTY4IDM4MC43MzkgMjMxLjU2N0MzODMuMDc1IDIyOS4xNjUgMzg3LjIyOCAyMjcuNDQ2IDM5My4xOTkgMjI2LjQwN0w0MDQuNjg1IDIyNC40NjFDNDA2Ljg5MiAyMjQuMDcxIDQwOC40NDkgMjIzLjUyIDQwOS4zNTggMjIyLjgwNkM0MTAuMjY2IDIyMi4wOTIgNDEwLjcyMSAyMjEuMDIxIDQxMC43MjEgMjE5LjU5M0M0MTAuNzIxIDIxNy43NzYgNDEwLjA3MiAyMTYuMzgxIDQwOC43NzQgMjE1LjQwOEM0MDcuNTQxIDIxNC40MzQgNDA1LjM2NyAyMTMuOTQ3IDQwMi4yNTIgMjEzLjk0N0MzOTUuODI3IDIxMy45NDcgMzkyLjUxNyAyMTYuNDc4IDM5Mi4zMjMgMjIxLjU0SDM3OC4yMDhDMzc4LjQwMiAyMTYuMjE5IDM4MC41NzcgMjExLjk2OCAzODQuNzMgMjA4Ljc4OEMzODguOTQ4IDIwNS42MDggMzk0LjY5MSAyMDQuMDE4IDQwMS45NiAyMDQuMDE4QzQwOS4yMjggMjA0LjAxOCA0MTQuNzEyIDIwNS40NzkgNDE4LjQxMSAyMDguMzk5QzQyMi4xMSAyMTEuMzE5IDQyMy45NTkgMjE1LjQwOCA0MjMuOTU5IDIyMC42NjRWMjQxLjY5QzQyMy45NTkgMjQ1LjY0OSA0MjQuMjE5IDI0OS44NjcgNDI0LjczOCAyNTQuMzQ1SDQxMi4xODFDNDExLjY2MiAyNTAuOTA2IDQxMS40MDIgMjQ3LjQzNCA0MTEuNDAyIDI0My45MjlDNDEwLjIzNCAyNDcuNDk5IDQwOC4xMjUgMjUwLjM1NCA0MDUuMDc1IDI1Mi40OTZDNDAyLjAyNSAyNTQuNTcyIDM5OC4xMzEgMjU1LjYxMSAzOTMuMzkzIDI1NS42MTFaTTM5OC4yNjEgMjQ1Ljc3OUM0MDIuMDg5IDI0NS43NzkgNDA1LjEwNyAyNDQuNDgxIDQwNy4zMTQgMjQxLjg4NUM0MDkuNTg1IDIzOS4yMjQgNDEwLjcyMSAyMzUuNjU1IDQxMC43MjEgMjMxLjE3N1YyMjkuMDM2QzQwOS41NTIgMjI5LjgxNCA0MDguMzUyIDIzMC40MzEgNDA3LjExOSAyMzAuODg1QzQwNS45NTEgMjMxLjM0IDQwNC40OTEgMjMxLjc2MSA0MDIuNzM4IDIzMi4xNTFMMzk4LjY1IDIzMy4xMjRDMzk2LjA1NCAyMzMuNzczIDM5NC4yMDUgMjM0LjYxNyAzOTMuMTAxIDIzNS42NTVDMzkxLjk5OCAyMzYuNjkzIDM5MS40NDcgMjM4LjEyMSAzOTEuNDQ3IDIzOS45MzhDMzkxLjQ0NyAyNDEuODIgMzkyLjA2MyAyNDMuMjggMzkzLjI5NiAyNDQuMzE5QzM5NC41OTQgMjQ1LjI5MiAzOTYuMjQ5IDI0NS43NzkgMzk4LjI2MSAyNDUuNzc5WiIgZmlsbD0iIzFFMUUxRSIvPgo8cGF0aCBkPSJNMzE5LjkyMiAyMzAuMDA5QzMxOS45MjIgMjI1LjI3MiAzMjAuODYzIDIyMC45NTYgMzIyLjc0NSAyMTcuMDYyQzMyNC42MjcgMjEzLjEwNCAzMjcuNTQ3IDIwOS45NTYgMzMxLjUwNiAyMDcuNjJDMzM1LjUyOSAyMDUuMjg0IDM0MC41NTkgMjA0LjExNiAzNDYuNTk0IDIwNC4xMTZDMzU0LjcwNiAyMDQuMTE2IDM2MC45MzYgMjA2LjA5NSAzNjUuMjg0IDIxMC4wNTRDMzY5LjYzMiAyMTQuMDEyIDM3MS45MDMgMjE5LjEzOSAzNzIuMDk4IDIyNS40MzRIMzU4LjA4MUMzNTcuODIxIDIyMi4yNTQgMzU2Ljc4MyAyMTkuNzg4IDM1NC45NjYgMjE4LjAzNkMzNTMuMTQ4IDIxNi4yODQgMzUwLjQ1NSAyMTUuNDA4IDM0Ni44ODYgMjE1LjQwOEMzNDIuNzk4IDIxNS40MDggMzM5LjY4MyAyMTYuNTQzIDMzNy41NDEgMjE4LjgxNUMzMzUuNDY0IDIyMS4wMjEgMzM0LjQyNiAyMjQuNzUzIDMzNC40MjYgMjMwLjAwOUMzMzQuNDI2IDIzNS4yNjYgMzM1LjQzMiAyMzkuMDMgMzM3LjQ0NCAyNDEuMzAxQzMzOS41MiAyNDMuNTA3IDM0Mi42MDMgMjQ0LjYxMSAzNDYuNjkxIDI0NC42MTFDMzUwLjMyNiAyNDQuNjExIDM1My4wODQgMjQzLjY3IDM1NC45NjYgMjQxLjc4OEMzNTYuOTEyIDIzOS45MDYgMzU4LjA0OCAyMzcuNDA3IDM1OC4zNzMgMjM0LjI5MkgzNzIuMzlDMzcyLjI2IDIzOC4yNTEgMzcxLjIyMiAyNDEuODg1IDM2OS4yNzUgMjQ1LjE5NUMzNjcuMzkzIDI0OC40NCAzNjQuNTM4IDI1MS4wMzUgMzYwLjcwOSAyNTIuOTgyQzM1Ni45NDUgMjU0LjkyOSAzNTIuMzM3IDI1NS45MDMgMzQ2Ljg4NiAyNTUuOTAzQzM0MC44NTEgMjU1LjkwMyAzMzUuNzg5IDI1NC43MzQgMzMxLjcgMjUyLjM5OEMzMjcuNjc3IDI1MC4wNjIgMzI0LjY5MiAyNDYuOTQ3IDMyMi43NDUgMjQzLjA1M0MzMjAuODYzIDIzOS4wOTUgMzE5LjkyMiAyMzQuNzQ3IDMxOS45MjIgMjMwLjAwOVoiIGZpbGw9IiMxRTFFMUUiLz4KPHBhdGggZD0iTTI4OC43NjEgMjU1LjkwM0MyODIuNTk2IDI1NS45MDMgMjc3LjUwMiAyNTQuNzM0IDI3My40NzggMjUyLjM5OEMyNjkuNDU1IDI0OS45OTcgMjY2LjUwMiAyNDYuODUgMjY0LjYyIDI0Mi45NTZDMjYyLjczOCAyMzkuMDYyIDI2MS43OTcgMjM0LjcxNCAyNjEuNzk3IDIyOS45MTJDMjYxLjc5NyAyMjUuMTc0IDI2Mi43MzggMjIwLjg1OSAyNjQuNjIgMjE2Ljk2NUMyNjYuNTAyIDIxMy4wNzEgMjY5LjQ1NSAyMDkuOTU2IDI3My40NzggMjA3LjYyQzI3Ny41MDIgMjA1LjI4NCAyODIuNTk2IDIwNC4xMTYgMjg4Ljc2MSAyMDQuMTE2QzI5NC45MjYgMjA0LjExNiAzMDAuMDIgMjA1LjMxNiAzMDQuMDQ0IDIwNy43MTdDMzA4LjEzMiAyMTAuMDU0IDMxMS4wODUgMjEzLjE2OSAzMTIuOTAyIDIxNy4wNjJDMzE0Ljc4NCAyMjAuOTU2IDMxNS43MjUgMjI1LjIzOSAzMTUuNzI1IDIyOS45MTJDMzE1LjcyNSAyMzQuNjQ5IDMxNC43ODQgMjM4Ljk5NyAzMTIuOTAyIDI0Mi45NTZDMzExLjA4NSAyNDYuODUgMzA4LjEzMiAyNDkuOTk3IDMwNC4wNDQgMjUyLjM5OEMzMDAuMDIgMjU0LjczNCAyOTQuOTI2IDI1NS45MDMgMjg4Ljc2MSAyNTUuOTAzWk0yNzYuMzAxIDIzMC4wMDlDMjc2LjMwMSAyMzUuMzMxIDI3Ny4yNzUgMjM5LjA5NSAyNzkuMjIxIDI0MS4zMDFDMjgxLjE2OCAyNDMuNTA3IDI4NC4zNDggMjQ0LjYxMSAyODguNzYxIDI0NC42MTFDMjkzLjIzOSAyNDQuNjExIDI5Ni40NTEgMjQzLjUwNyAyOTguMzk4IDI0MS4zMDFDMzAwLjM0NSAyMzkuMDk1IDMwMS4zMTggMjM1LjMzMSAzMDEuMzE4IDIzMC4wMDlDMzAxLjMxOCAyMjQuNjg4IDMwMC4zNDUgMjIwLjkyNCAyOTguMzk4IDIxOC43MTdDMjk2LjQ1MSAyMTYuNTExIDI5My4yMzkgMjE1LjQwOCAyODguNzYxIDIxNS40MDhDMjg0LjM0OCAyMTUuNDA4IDI4MS4xNjggMjE2LjUxMSAyNzkuMjIxIDIxOC43MTdDMjc3LjI3NSAyMjAuOTI0IDI3Ni4zMDEgMjI0LjY4OCAyNzYuMzAxIDIzMC4wMDlaIiBmaWxsPSIjMUUxRTFFIi8+CjxwYXRoIGQ9Ik0yNTAuNjUxIDE4OS42MTJIMjY1LjU0NUwyNDMuODM3IDI1NC4zNDVIMjIyLjEzTDIwMC40MjIgMTg5LjYxMkgyMTUuNzA1TDIzMC4wMTQgMjMyLjA1NEMyMzEuMzc3IDIzNi4yNzIgMjMyLjQxNSAyMzkuODQxIDIzMy4xMjkgMjQyLjc2MUMyMzQuMjk3IDIzOC4zNDkgMjM1LjMzNiAyMzQuNzc5IDIzNi4yNDQgMjMyLjA1NEwyNTAuNjUxIDE4OS42MTJaIiBmaWxsPSIjMUUxRTFFIi8+CjxwYXRoIGQ9Ik0xODYuMDA0IDI1NC4zNDVDMTc5LjMyIDI1NC4zNDUgMTc0LjY0NyAyNTIuOTUgMTcxLjk4NiAyNTAuMTU5QzE2OS4zOTEgMjQ3LjMwNCAxNjguMDkzIDI0Mi44NTkgMTY4LjA5MyAyMzYuODIzVjIxNi41NzZIMTU5LjIzNFYyMDkuNjY0TDE2OS4yNjEgMjA1LjU3NkwxNzUuMTk5IDE5NC4wODlIMTgyLjQ5OVYyMDUuNjczSDE5Ni41MTdWMjE2LjU3NkgxODIuNDk5VjI0Mi44NThIMTk1LjE1NFYyNTQuMzQ1SDE4Ni4wMDRaIiBmaWxsPSIjMUUxRTFFIi8+CjxwYXRoIGQ9Ik0xMzIuOTYyIDI0NS45NzNDMTM1Ljk0NyAyNDUuOTczIDEzOC4zNDggMjQ1LjQyMiAxNDAuMTY1IDI0NC4zMTlDMTQxLjk4MiAyNDMuMTUxIDE0My4yNDggMjQxLjU5MyAxNDMuOTYyIDIzOS42NDZIMTU3Ljc4NEMxNTcuMDA2IDI0NC4yNTQgMTU0LjYwNSAyNDguMTE1IDE1MC41ODEgMjUxLjIzQzE0Ni42MjIgMjU0LjM0NSAxNDAuNjUyIDI1NS45MDMgMTMyLjY3IDI1NS45MDNDMTIzLjc3OSAyNTUuOTAzIDExNy4xOTIgMjUzLjQ2OSAxMTIuOTA5IDI0OC42MDJDMTA4LjYyNiAyNDMuNjcgMTA2LjQ4NCAyMzcuNDQgMTA2LjQ4NCAyMjkuOTEyQzEwNi40ODQgMjI1LjA0NSAxMDcuNDI1IDIyMC42NjQgMTA5LjMwNyAyMTYuNzdDMTExLjI1NCAyMTIuODc3IDExNC4xNzUgMjA5Ljc5NCAxMTguMDY4IDIwNy41MjNDMTIyLjAyNyAyMDUuMjUxIDEyNi44OTQgMjA0LjExNiAxMzIuNjcgMjA0LjExNkMxNDEuMzAxIDIwNC4xMTYgMTQ3LjY2MSAyMDYuNTE3IDE1MS43NDkgMjExLjMxOUMxNTUuODM4IDIxNi4xMjEgMTU3Ljg4MiAyMjIuMjg3IDE1Ny44ODIgMjI5LjgxNEMxNTcuODgyIDIzMS42OTYgMTU3LjgxNyAyMzIuOTk0IDE1Ny42ODcgMjMzLjcwOEgxMjAuNTk5QzEyMC45ODkgMjM4LjEyMSAxMjIuMjIyIDI0MS4yNjkgMTI0LjI5OCAyNDMuMTUxQzEyNi40NCAyNDUuMDMyIDEyOS4zMjggMjQ1Ljk3MyAxMzIuOTYyIDI0NS45NzNaTTEzMi44NjQgMjEzLjg1QzEyOS4yOTUgMjEzLjg1IDEyNi41MDUgMjE0LjY5NCAxMjQuNDkzIDIxNi4zODFDMTIyLjU0NiAyMTguMDY4IDEyMS4yODEgMjIwLjkyNCAxMjAuNjk3IDIyNC45NDdIMTQ0LjE1NkMxNDMuODk3IDIyMS4yNDggMTQyLjgyNiAyMTguNDkgMTQwLjk0NCAyMTYuNjczQzEzOS4xMjcgMjE0Ljc5MSAxMzYuNDM0IDIxMy44NSAxMzIuODY0IDIxMy44NVoiIGZpbGw9IiMxRTFFMUUiLz4KPHBhdGggZD0iTTY0LjEyMzUgMjU2QzU3LjI0NDYgMjU2IDUxLjUwMTMgMjU0LjUwNyA0Ni44OTM3IDI1MS41MjJDNDIuMjg2MSAyNDguNTM3IDM4Ljg0NjcgMjQ0LjQ4MSAzNi41NzUzIDIzOS4zNTRDMzQuMzY4OSAyMzQuMjI3IDMzLjI2NTYgMjI4LjQxOSAzMy4yNjU2IDIyMS45M0MzMy4yNjU2IDIxNS4zNzUgMzQuNDk4NiAyMDkuNTY3IDM2Ljk2NDcgMjA0LjUwNUMzOS40MzA3IDE5OS4zNzggNDMuMjU5NiAxOTUuMzU1IDQ4LjQ1MTIgMTkyLjQzNUM1My43MDc4IDE4OS40NDkgNjAuMjYyMyAxODcuOTU3IDY4LjExNDYgMTg3Ljk1N0M3OC40MzMxIDE4Ny45NTcgODYuMTU1NiAxOTAuMDY2IDkxLjI4MjQgMTk0LjI4NEM5Ni40MDkyIDE5OC41MDIgOTkuMjk3IDIwNC4yNDYgOTkuOTQ2IDIxMS41MTRIODQuOTU1MUM4NC41MDA4IDIwNy42ODUgODIuODc4NCAyMDQuNzMyIDgwLjA4NzkgMjAyLjY1NkM3Ny4yOTc0IDIwMC41NzkgNzMuMjczOCAxOTkuNTQxIDY4LjAxNzMgMTk5LjU0MUM2MS41Mjc3IDE5OS41NDEgNTYuNjkzIDIwMS4zOSA1My41MTMxIDIwNS4wODlDNTAuMzMzMiAyMDguNzIzIDQ4Ljc0MzMgMjE0LjM2OSA0OC43NDMzIDIyMi4wMjdDNDguNzQzMyAyMjkuNDkgNTAuMjM1OSAyMzUuMDcxIDUzLjIyMTEgMjM4Ljc3QzU2LjIwNjMgMjQyLjQ2OSA2MC45MTEyIDI0NC4zMTkgNjcuMzM1OSAyNDQuMzE5QzczLjMwNjMgMjQ0LjMxOSA3Ny42ODY4IDI0Mi45ODggODAuNDc3MyAyNDAuMzI4QzgzLjMzMjcgMjM3LjY2NyA4NS4wODQ5IDIzNC4wNjUgODUuNzMzOCAyMjkuNTIzSDYyLjY2MzRWMjE5Ljg4NUg5OS44NDg2VjI1NC4zNDVIODcuMTk0VjI0MS44ODVDODUuNzY2MyAyNDYuMTAzIDgzLjE3MDQgMjQ5LjUxIDc5LjQwNjUgMjUyLjEwNkM3NS42NDI1IDI1NC43MDIgNzAuNTQ4MiAyNTYgNjQuMTIzNSAyNTZaIiBmaWxsPSIjMUUxRTFFIi8+Cjwvc3ZnPgo=">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:http-json:1" retries="3" />
        <zeebe:ioMapping>
          <zeebe:input source="noAuth" target="authentication.type" />
          <zeebe:input source="POST" target="method" />
          <zeebe:input source="https://activepieces.production.getvocal.ai/api/v1/webhooks/6mb1FGNlB6MxqKeesXym1" target="url" />
          <zeebe:input source="=false" target="storeResponse" />
          <zeebe:input source="=20" target="connectionTimeoutInSeconds" />
          <zeebe:input source="=20" target="readTimeoutInSeconds" />
          <zeebe:input source="={&#10;  conversationId: communicationContext.conversationId,&#10;  answer: communicationContent.text&#10;}" target="body" />
          <zeebe:input source="=false" target="ignoreNullValues" />
        </zeebe:ioMapping>
        <zeebe:taskHeaders>
          <zeebe:header key="elementTemplateVersion" value="11" />
          <zeebe:header key="elementTemplateId" value="io.camunda.connectors.HttpJson.v2" />
          <zeebe:header key="retryBackoff" value="PT0S" />
        </zeebe:taskHeaders>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_GetVocal</bpmn:incoming>
      <bpmn:outgoing>Flow_0zrilv5</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:endEvent id="Event_1nkyrfw">
      <bpmn:incoming>Flow_0zrilv5</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:serviceTask id="Activity_1l3peaq" name="Ask customer via WhatsApp" zeebe:modelerTemplate="io.camunda.connectors.Twilio.v1" zeebe:modelerTemplateVersion="5" zeebe:modelerTemplateIcon="data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;18&#39; height=&#39;18&#39; preserveAspectRatio=&#39;xMidYMid&#39; viewBox=&#39;0 0 256 256&#39; id=&#39;twilio&#39;%3E%3Cg fill=&#39;%23CF272D&#39;%3E%3Cpath d=&#39;M127.86 222.304c-52.005 0-94.164-42.159-94.164-94.163 0-52.005 42.159-94.163 94.164-94.163 52.004 0 94.162 42.158 94.162 94.163 0 52.004-42.158 94.163-94.162 94.163zm0-222.023C57.245.281 0 57.527 0 128.141 0 198.756 57.245 256 127.86 256c70.614 0 127.859-57.244 127.859-127.859 0-70.614-57.245-127.86-127.86-127.86z&#39;%3E%3C/path%3E%3Cpath d=&#39;M133.116 96.297c0-14.682 11.903-26.585 26.586-26.585 14.683 0 26.585 11.903 26.585 26.585 0 14.684-11.902 26.586-26.585 26.586-14.683 0-26.586-11.902-26.586-26.586M133.116 159.983c0-14.682 11.903-26.586 26.586-26.586 14.683 0 26.585 11.904 26.585 26.586 0 14.683-11.902 26.586-26.585 26.586-14.683 0-26.586-11.903-26.586-26.586M69.431 159.983c0-14.682 11.904-26.586 26.586-26.586 14.683 0 26.586 11.904 26.586 26.586 0 14.683-11.903 26.586-26.586 26.586-14.682 0-26.586-11.903-26.586-26.586M69.431 96.298c0-14.683 11.904-26.585 26.586-26.585 14.683 0 26.586 11.902 26.586 26.585 0 14.684-11.903 26.586-26.586 26.586-14.682 0-26.586-11.902-26.586-26.586&#39;%3E%3C/path%3E%3C/g%3E%3C/svg%3E">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:http-json:1" />
        <zeebe:ioMapping>
          <zeebe:input source="sendSms" target="operationType" />
          <zeebe:input source="accountSidAuthToken" target="authType" />
          <zeebe:input source="{{secrets.TWILIO_ACCOUNT_SID}}" target="accountSid" />
          <zeebe:input source="basic" target="authentication.type" />
          <zeebe:input source="post" target="method" />
          <zeebe:input source="={&#34;Content-Type&#34;:&#34;application/x-www-form-urlencoded&#34;}" target="headers" />
          <zeebe:input source="=accountSid" target="authentication.username" />
          <zeebe:input source="{{secrets.TWILIO_AUTH_TOKEN}}" target="authentication.password" />
          <zeebe:input source="=communicationContent.text" target="body.Body" />
          <zeebe:input source="whatsapp:+14155238886" target="body.From" />
          <zeebe:input source="=communicationContext.from" target="body.To" />
          <zeebe:input source="=&#34;https://api.twilio.com/2010-04-01/Accounts/&#34;+accountSid+&#34;/Messages.json&#34;" target="url" />
          <zeebe:input source="20" target="connectionTimeoutInSeconds" />
        </zeebe:ioMapping>
        <zeebe:taskHeaders>
          <zeebe:header key="elementTemplateVersion" value="5" />
          <zeebe:header key="elementTemplateId" value="io.camunda.connectors.Twilio.v1" />
        </zeebe:taskHeaders>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1037yv4</bpmn:incoming>
      <bpmn:outgoing>Flow_1ofgf2a</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:boundaryEvent id="Event_0jyyu07" name="Chat closed" attachedToRef="Task_ChatReply">
      <bpmn:outgoing>Flow_0ubp3c7</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_0jdbyzn" errorRef="Error_07xvk80" />
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="Flow_email" name="Email" sourceRef="Gateway_CommunicationChannel" targetRef="Reply_with_email_to_customer">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=communicationContext.channel = "email"</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_chat" name="Chatbot" sourceRef="Gateway_CommunicationChannel" targetRef="Task_ChatReply">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=communicationContext.channel = "chat"</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_other" name="Other" sourceRef="Gateway_CommunicationChannel" targetRef="Task_AskCustomer_Phone" />
    <bpmn:sequenceFlow id="Flow_GetVocal" name="GetVocal" sourceRef="Gateway_CommunicationChannel" targetRef="Activity_0q3ulxn">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=communicationContext.channel = "getVocal"</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1037yv4" name="WhatsApp" sourceRef="Gateway_CommunicationChannel" targetRef="Activity_1l3peaq">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=communicationContext.channel = "whatsApp"</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_09gjg6u" sourceRef="Reply_with_email_to_customer" targetRef="Event_AnswerReceived_Email" />
    <bpmn:sequenceFlow id="Flow_0ubp3c7" sourceRef="Event_0jyyu07" targetRef="Reply_with_email_to_customer" />
    <bpmn:sequenceFlow id="Flow_0ibbtmp" sourceRef="Task_AskCustomer_Phone" targetRef="Event_AnswerReceived_Phone" />
    <bpmn:sequenceFlow id="Flow_0zrilv5" sourceRef="Activity_0q3ulxn" targetRef="Event_1nkyrfw" />
    <bpmn:sequenceFlow id="Flow_1ofgf2a" sourceRef="Activity_1l3peaq" targetRef="Event_1if3c1h" />
    <bpmn:sequenceFlow id="Flow_1tedn6d" sourceRef="StartEvent_1" targetRef="Gateway_CommunicationChannel" />
    <bpmn:endEvent id="Event_1if3c1h">
      <bpmn:incoming>Flow_1ofgf2a</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_1w680ql" sourceRef="Task_ChatReply" targetRef="Event_AnswerReceived_Chat" />
  </bpmn:process>
  <bpmn:error id="Error_07xvk80" name="ERROR_CHAT" errorCode="ERROR_CHAT" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="message-sender">
      <bpmndi:BPMNShape id="StartEvent_1_di" bpmnElement="StartEvent_1">
        <dc:Bounds x="182" y="162" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1y5hfxn_di" bpmnElement="Gateway_CommunicationChannel" isMarkerVisible="true">
        <dc:Bounds x="255" y="155" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="242" y="118" width="77" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0pn4ems_di" bpmnElement="Reply_with_email_to_customer">
        <dc:Bounds x="490" y="410" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_18d7ipg_di" bpmnElement="Event_AnswerReceived_Email">
        <dc:Bounds x="852" y="432" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="825" y="475" width="90" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1ixo4ry_di" bpmnElement="Task_ChatReply">
        <dc:Bounds x="490" y="140" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1shl0zc_di" bpmnElement="Task_AskCustomer_Phone">
        <dc:Bounds x="490" y="550" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0arwsmo_di" bpmnElement="Event_AnswerReceived_Phone">
        <dc:Bounds x="752" y="572" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="741" y="615" width="61" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1at4psu_di" bpmnElement="Activity_0q3ulxn">
        <dc:Bounds x="490" y="700" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1nkyrfw_di" bpmnElement="Event_1nkyrfw">
        <dc:Bounds x="772" y="722" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1t2rcit_di" bpmnElement="Activity_1l3peaq">
        <dc:Bounds x="490" y="820" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0bc0ws8_di" bpmnElement="Event_1if3c1h">
        <dc:Bounds x="782" y="842" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1ia32kg_di" bpmnElement="Event_AnswerReceived_Chat">
        <dc:Bounds x="702" y="162" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="678" y="205" width="85" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0cugllz_di" bpmnElement="Event_0jyyu07">
        <dc:Bounds x="542" y="202" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="570" y="233" width="59" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0j31jhn_di" bpmnElement="Flow_email">
        <di:waypoint x="280" y="205" />
        <di:waypoint x="280" y="450" />
        <di:waypoint x="490" y="450" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="297" y="432" width="28" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1996dj8_di" bpmnElement="Flow_chat">
        <di:waypoint x="305" y="180" />
        <di:waypoint x="490" y="180" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="388" y="157" width="39" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0hkpmky_di" bpmnElement="Flow_other">
        <di:waypoint x="280" y="205" />
        <di:waypoint x="280" y="590" />
        <di:waypoint x="490" y="590" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="297" y="563" width="29" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0qvio8s_di" bpmnElement="Flow_GetVocal">
        <di:waypoint x="280" y="205" />
        <di:waypoint x="280" y="740" />
        <di:waypoint x="490" y="740" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="288" y="703" width="45" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1037yv4_di" bpmnElement="Flow_1037yv4">
        <di:waypoint x="280" y="205" />
        <di:waypoint x="280" y="860" />
        <di:waypoint x="490" y="860" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="294" y="833" width="51" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_09gjg6u_di" bpmnElement="Flow_09gjg6u">
        <di:waypoint x="590" y="450" />
        <di:waypoint x="852" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ubp3c7_di" bpmnElement="Flow_0ubp3c7">
        <di:waypoint x="560" y="238" />
        <di:waypoint x="560" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ibbtmp_di" bpmnElement="Flow_0ibbtmp">
        <di:waypoint x="590" y="590" />
        <di:waypoint x="752" y="590" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0zrilv5_di" bpmnElement="Flow_0zrilv5">
        <di:waypoint x="590" y="740" />
        <di:waypoint x="772" y="740" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ofgf2a_di" bpmnElement="Flow_1ofgf2a">
        <di:waypoint x="590" y="860" />
        <di:waypoint x="782" y="860" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1tedn6d_di" bpmnElement="Flow_1tedn6d">
        <di:waypoint x="218" y="180" />
        <di:waypoint x="255" y="180" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1w680ql_di" bpmnElement="Flow_1w680ql">
        <di:waypoint x="590" y="180" />
        <di:waypoint x="702" y="180" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>